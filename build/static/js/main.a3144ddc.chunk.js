(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{287:function(e,t,n){e.exports=n.p+"static/media/logo.6f8aaa78.svg"},307:function(e,t,n){e.exports=n(507)},343:function(e,t,n){},349:function(e,t,n){},361:function(e,t,n){},363:function(e,t,n){},375:function(e,t,n){},377:function(e,t,n){},385:function(e,t,n){},387:function(e,t,n){},391:function(e,t,n){},438:function(e,t,n){},441:function(e,t,n){},443:function(e,t,n){},445:function(e,t,n){},447:function(e,t,n){},507:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"onAction",function(){return Tl});var r,c,o,i=n(106),s=n(0),u=n.n(s),l=n(111),p=n.n(l),d=n(136),m=(n(331),n(17)),f=n(21),b=n(6),h=n(12),g=n(13),O=n(15),y=n(14),v=n(16),E=n(542),j=n(547),C=n(548),x=n(549),k=n(543),S=n(527),A=n(275),T=n.n(A),_=n(546),R=n(218),w=n(533),N=Object(w.a)("LOAD_SETTINGS_SUCCESS","CHANGE_SETTINGS_CURRENCY","UPDATE_EXCHANGE_RATE","UPDATE_EXCHANGE_RATE_SUCCESS","UPDATE_EXCHANGE_RATE_FAILURE","COMPLETE_SETUP","TOGGLE_SECTION_COLLAPSE"),I=N.loadSettingsSuccess,D=N.changeSettingsCurrency,M=N.updateExchangeRate,F=N.updateExchangeRateSuccess,L=N.updateExchangeRateFailure,P=N.toggleSectionCollapse,U=N.completeSetup,G={AED:{name:"Emirati Dirham",symbol:".\u062f.\u0628",exp:2,flag:"ae"},AFN:{name:"Afghan Afghani",symbol:"\u060b",exp:2,flag:"af"},ALL:{name:"Albanian lek",symbol:"lek",exp:2,flag:"al"},AMD:{name:"Armenian dram",symbol:"AMD",exp:2,flag:"am"},ANG:{name:"Dutch Guilder",symbol:"\u0192",exp:2,flag:"an"},AOA:{name:"Angolan Kwanza",symbol:"Kz",exp:2,flag:"ao"},ARS:{name:"Argentine peso",symbol:"$",exp:2,flag:"ar"},AUD:{name:"Australian Dollar",symbol:"$",exp:2,flag:"au"},AWG:{name:"Arubin florin",symbol:"\u0192",exp:2,flag:"aw"},AZN:{name:"Azerbaijani manat",symbol:"\u043c\u0430\u043d",exp:2,flag:"az"},BAM:{name:"Bosnian Convertible Marka",symbol:"KM",exp:2,flag:"ba"},BBD:{name:"Barbadian dollar",symbol:"$",exp:2,flag:"bb"},BDT:{name:"Bangladeshi Taka",symbol:"Tk",exp:2,flag:"bd"},BGN:{name:"Bulgarian lev",symbol:"\u043b\u0432",exp:2,flag:"bg"},BHD:{name:"Bahraini Dinar",symbol:".\u062f.\u0628 or BD",exp:3,flag:"bh"},BIF:{name:"Burundian Franc",symbol:"FBu",exp:0,flag:"bi"},BMD:{name:"Bermudian dollar",symbol:"$",exp:2,flag:"bm"},BND:{name:"Bruneian Dollar",symbol:"$",exp:2,flag:"bn"},BOB:{name:"Bolivian Boliviano",symbol:"$b",exp:2,flag:"bo"},BRL:{name:"Brazilian real",symbol:"R$",exp:2,flag:"br"},BSD:{name:"Bahamian dollar",symbol:"B$",exp:2,flag:"bs"},BTN:{name:"Bhutanese Ngultrum",symbol:"Nu.",exp:2,flag:"bt"},BWP:{name:"Botswana Pula",symbol:"P",exp:2,flag:"bw"},BYR:{name:"Belarusian ruble",symbol:"\u0440",exp:2,flag:"by"},BZD:{name:"Belize dollar",symbol:"BZ$",exp:2,flag:"bz"},CAD:{name:"Canadian Dollar",symbol:"$",exp:2,flag:"ca"},CHF:{name:"Swiss Franc",symbol:"CHF",exp:2,flag:"ch"},CLP:{name:"Chilean Peso",symbol:"$",exp:0,flag:"cl"},CNY:{name:"Yuan or chinese renminbi",symbol:"\xa5",exp:2,flag:"cn"},COP:{name:"Colombian peso",symbol:"$",exp:2,flag:"co"},CRC:{name:"Costa Rican col\xf3n",symbol:"\u20a1",exp:2,flag:"cr"},CUC:{name:"Cuban convertible peso",symbol:"$",exp:2,flag:"cu"},CUP:{name:"Cuban peso",symbol:"\u20b1",exp:2,flag:"cu"},CVE:{name:"Cape Verdean Escudo",symbol:"$",exp:0,flag:"cv"},CZK:{name:"Czech koruna",symbol:"K\u010d",exp:2,flag:"cz"},DJF:{name:"Djiboutian Franc",symbol:"fdj",exp:0,flag:"dj"},DKK:{name:"Danish krone",symbol:"kr",exp:2,flag:"dk"},DOP:{name:"Dominican peso",symbol:"$",exp:2,flag:"do"},DZD:{name:"Algerian Dinar",symbol:"\u062c\u062f",exp:2,flag:"dz"},EGP:{name:"Egyptian Pound",symbol:"\xa3 ",exp:2,flag:"eg"},ERN:{name:"Eritrean nakfa",symbol:"\u1293\u1255\u134b",exp:2,flag:"er"},ETB:{name:"Ethiopian Birr",symbol:"Br",exp:2,flag:"et"},EUR:{name:"Euro",symbol:"\u20ac",exp:2,flag:"eu"},FJD:{name:"Fijian dollar",symbol:"$",exp:2,flag:"fj"},FKP:{name:"Falkland Island Pound",symbol:"\xa3",exp:2,flag:"fk"},GBP:{name:"British Pound",symbol:"\xa3",exp:2,flag:"gb"},GEL:{name:"Georgian lari",symbol:"\u10da",exp:2,flag:"ge"},GHS:{name:"Ghanaian Cedi",symbol:"GH\xa2",exp:2,flag:"gh"},GIP:{name:"Gibraltar pound",symbol:"\xa3",exp:2,flag:"gi"},GMD:{name:"Gambian dalasi",symbol:"D",exp:2,flag:"gm"},GNF:{name:"Guinean Franc",symbol:"GNF",exp:0,flag:"gn"},GTQ:{name:"Guatemalan Quetzal",symbol:"Q",exp:2,flag:"gt"},GYD:{name:"Guyanese dollar",symbol:"$",exp:2,flag:"gy"},HKD:{name:"Hong Kong dollar",symbol:"HK$",exp:2,flag:"hk"},HNL:{name:"Honduran lempira",symbol:"L",exp:2,flag:"hn"},HRK:{name:"Croatian kuna",symbol:"kn",exp:2,flag:"hr"},HTG:{name:"Haitian gourde",symbol:"G",exp:2,flag:"ht"},HUF:{name:"Hungarian forint",symbol:"Ft",exp:2,flag:"hu"},IDR:{name:"Indonesian Rupiah",symbol:"Rp",exp:2,flag:"id"},ILS:{name:"Israeli Shekel",symbol:"\u20aa",exp:2,flag:"il"},INR:{name:"Indian Rupee",symbol:"\u20b9",exp:2,flag:"in"},IQD:{name:"Iraqi Dinar",symbol:"\u0639.\u062f",exp:3,flag:"iq"},IRR:{name:"Iranian Rial",symbol:"\ufdfc",exp:2,flag:"ir"},ISK:{name:"Icelandic Krona",symbol:"kr",exp:0,flag:"is"},JMD:{name:"Jamaican dollar",symbol:"J$",exp:2,flag:"jm"},JOD:{name:"Jordanian Dinar",symbol:"JOD",exp:3,flag:"jo"},JPY:{name:"Japanese yen",symbol:"\xa5",exp:0,flag:"jp"},KES:{name:"Kenyan Shilling",symbol:"KSh",exp:2,flag:"ke"},KGS:{name:"Kyrgyzstani som",symbol:"\u043b\u0432",exp:2,flag:"kg"},KHR:{name:"Cambodian Riel",symbol:"\u17db",exp:2,flag:"kh"},KMF:{name:"Comoro Franc",symbol:"KMF",exp:0,flag:"km"},KPW:{name:"North Korean won",symbol:"\u20a9",exp:2,flag:"kp"},KRW:{name:"South Korean won",symbol:"\u20a9",exp:0,flag:"kr"},KWD:{name:"Kuwaiti Dinar",symbol:"\u0643",exp:3,flag:"kw"},KYD:{name:"Caymanian Dollar",symbol:"$",exp:2,flag:"ky"},KZT:{name:"Kazakhstani tenge",symbol:"\u20b8",exp:2,flag:"kz"},LAK:{name:"Lao or Laotian Kip",symbol:"\u20ad",exp:2,flag:"la"},LBP:{name:"Lebanese Pound",symbol:"\u0644.\u0644",exp:2,flag:"lb"},LKR:{name:"Sri Lankan Rupee",symbol:"Rs",exp:2,flag:"lk"},LRD:{name:"Liberian Dollar",symbol:"$",exp:2,flag:"lr"},LSL:{name:"Lesotho loti",symbol:"L or M",exp:2,flag:"ls"},LTL:{name:"Lithuanian litas",symbol:"Lt",exp:2,flag:"lt"},LYD:{name:"Libyan Dinar",symbol:" \u062f.\u0644",exp:3,flag:"ly"},MAD:{name:"Moroccan Dirham",symbol:"\u0645.\u062f.",exp:2,flag:"ma"},MDL:{name:"Moldovan Leu",symbol:"L",exp:2,flag:"md"},MGA:{name:"Malagasy Ariary",symbol:"Ar",exp:2,flag:"mg"},MKD:{name:"Macedonian Denar",symbol:"\u0434\u0435\u043d",exp:2,flag:"mk"},MMK:{name:"Burmese Kyat",symbol:"K",exp:2,flag:"mm"},MNT:{name:"Mongolian Tughrik",symbol:"\u20ae",exp:2,flag:"mn"},MOP:{name:"Macau Pataca",symbol:"MOP$",exp:2,flag:"mo"},MRO:{name:"Mauritanian Ouguiya",symbol:"UM",exp:2,flag:"mr"},MUR:{name:"Mauritian rupee",symbol:"Rs",exp:2,flag:"mu"},MVR:{name:"Maldivian Rufiyaa",symbol:"rf",exp:2,flag:"mv"},MWK:{name:"Malawian Kwacha",symbol:"MK",exp:2,flag:"mw"},MXN:{name:"Mexico Peso",symbol:"$",exp:2,flag:"mx"},MYR:{name:"Malaysian Ringgit",symbol:"RM",exp:2,flag:"my"},MZN:{name:"Mozambican Metical",symbol:"MT",exp:2,flag:"mz"},NAD:{name:"Namibian Dollar",symbol:"$",exp:2,flag:"na"},NGN:{name:"Nigerian Naira",symbol:"\u20a6",exp:2,flag:"ng"},NIO:{name:"Nicaraguan c\xf3rdoba",symbol:"C$",exp:2,flag:"ni"},NOK:{name:"Norwegian krone",symbol:"kr",exp:2,flag:"no"},NPR:{name:"Nepalese Rupee",symbol:"Rs",exp:2,flag:"np"},NZD:{name:"New Zealand Dollar",symbol:"$",exp:2,flag:"nz"},OMR:{name:"Omani Rial",symbol:"\u0639.\u0631.",exp:3,flag:"om"},PAB:{name:"Balboa panam\xe9rn",symbol:"B/",exp:2,flag:"pa"},PEN:{name:"Peruvian nuevo sol",symbol:"S/",exp:2,flag:"pe"},PGK:{name:"Papua New Guinean Kina",symbol:"K",exp:2,flag:"pg"},PHP:{name:"Philippine Peso",symbol:"\u20b1",exp:2,flag:"ph"},PKR:{name:"Pakistani Rupee",symbol:"Rs",exp:2,flag:"pk"},PLN:{name:"Polish z\u0142oty",symbol:"z\u0142",exp:2,flag:"pl"},PYG:{name:"Paraguayan guarani",symbol:"\u20b2",exp:0,flag:"py"},QAR:{name:"Qatari Riyal",symbol:"\u0642.\u0631 ",exp:2,flag:"qa"},RON:{name:"Romanian leu",symbol:"lei",exp:2,flag:"ro"},RSD:{name:"Serbian Dinar",symbol:"\u0420\u0421\u0414",exp:2,flag:"rs"},RUB:{name:"Russian Rouble",symbol:"\u20bd",exp:2,flag:"ru"},RWF:{name:"Rwandan franc",symbol:"FRw, RF, R\u20a3",exp:0,flag:"rw"},SAR:{name:"Saudi Arabian Riyal",symbol:"\u0631.\u0633",exp:2,flag:"sa"},SBD:{name:"Solomon Islander Dollar",symbol:"SI$",exp:2,flag:"sb"},SCR:{name:"Seychellois Rupee",symbol:"Rs",exp:2,flag:"sc"},SDG:{name:"Sudanese Pound",symbol:"SDG",exp:2,flag:"sd"},SEK:{name:"Swedish krona",symbol:"kr",exp:2,flag:"se"},SGD:{name:"Singapore Dollar",symbol:"$",exp:2,flag:"sg"},SLL:{name:"Sierra Leonean Leone",symbol:"Le",exp:2,flag:"sl"},SOS:{name:"Somali Shilling",symbol:"S",exp:2,flag:"so"},SRD:{name:"Surinamese dollar",symbol:"$",exp:2,flag:"sr"},SYP:{name:"Syrian Pound",symbol:"\xa3",exp:2,flag:"sy"},SZL:{name:"Swazi Lilangeni",symbol:"L or E",exp:2,flag:"sz"},THB:{name:"Thai Baht",symbol:"\u0e3f",exp:2,flag:"th"},TJS:{name:"Tajikistani somoni",symbol:"TJS",exp:2,flag:"tj"},TMT:{name:"Turkmenistan manat",symbol:"T",exp:2,flag:"tm"},TND:{name:"Tunisian Dinar",symbol:"TND",exp:3,flag:"tn"},TOP:{name:"Tongan Pa'anga",symbol:"T$",exp:2,flag:"to"},TRY:{name:"Turkish Lira",symbol:"\u20ba",exp:2,flag:"tr"},TTD:{name:"Trinidadian dollar",symbol:"TT$",exp:2,flag:"tt"},TWD:{name:"Taiwan New Dollar",symbol:"NT$",exp:2,flag:"tw"},TZS:{name:"Tanzanian Shilling",symbol:"Sh",exp:2,flag:"tz"},UAH:{name:"Ukrainian Hryvnia",symbol:"\u20b4",exp:2,flag:"ua"},UGX:{name:"Ugandan Shilling",symbol:"USh",exp:0,flag:"ug"},USD:{name:"US Dollar",symbol:"$",exp:2,flag:"us"},UYU:{name:"Uruguayan peso",symbol:"$U",exp:2,flag:"uy"},UZS:{name:"Uzbekistani som",symbol:"\u043b\u0432",exp:2,flag:"uz"},VEF:{name:"Venezuelan bolivar",symbol:"Bs",exp:2,flag:"ve"},VND:{name:"Vietnamese Dong",symbol:"\u20ab",exp:0,flag:"vn"},VUV:{name:"Vanuatu Vatu",symbol:"VT",exp:0,flag:"vu"},WST:{name:"Samoan T\u0101l\u0101",symbol:"$",exp:2,flag:"ws"},YER:{name:"Yemeni Rial",symbol:"YER",exp:2,flag:"ye"},ZAR:{name:"South African Rand",symbol:"R",exp:2,flag:"za"},ZMW:{name:"Zambian Kwacha",symbol:"ZMK",exp:2,flag:"zm"},ZWD:{name:"Zimbabwean Dollar",symbol:"Z$",exp:2,flag:"zw"},XAU:{name:"Gold, troy ounce",symbol:"XAU",exp:2}},B={defaultBase:"USD",options:function(){return Object.keys(G).map(function(e){return{key:e,value:e,flag:G[e].flag,text:"".concat(e,", ").concat(G[e].name)}})},name:function(e){return G[e].name},symbol:function(e){return G[e].symbol},minAmount:function(e){return Number("1e-".concat(G[e].exp))},numberToCents:function(e,t){return Math.round(parseFloat("".concat(e,"e").concat(G[t].exp)))},centsToNumber:function(e,t){var n=G[t].exp;return Number("".concat(e,"e-").concat(n))},centsToString:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=G[t].exp,r=Number("".concat(e,"e-").concat(a));return n?r.toLocaleString(void 0,{minimumFractionDigits:a,maximumFractionDigits:a}):r.toString()},centsToDollar:function(e,t){var n=G[t].exp;return Number("".concat(e,"e-").concat(n)).toLocaleString(void 0,{maximumFractionDigits:0})},convert:function(e,t,n,a){return e/t*Math.pow(10,G[n].exp-G[a].exp)}},K=function(e){return e.settings.exchangeRate},Y=function(e){return e.settings.currency.base},H=function(e){return B.symbol(e.settings.currency.base)},W=function(e){return e.settings.currency.secondary},V=function(e){return e.settings.collapsedSections},z=(n(343),Object(m.b)(function(e,t){return Object(b.a)({},t,{collapsed:V(e)})},{toggle:P})(function(e){var t=e.name,n=e.label,a=e.LabelComponent,r=e.collapsed,c=e.toggle,o=e.children;return u.a.createElement("div",{className:"section"},u.a.createElement("div",{className:r.includes(t)?"section__header":"section__header active",onClick:function(){return c(t)}},u.a.createElement(R.a,{name:"dropdown"}),u.a.createElement("h3",null,n),a&&u.a.createElement(a,null)),!r.includes(t)&&u.a.createElement("div",{className:"section__body"},o))})),$=n(27),J=n(70),Q=n(7);!function(e){e.Cash="cash",e.Bank="bank",e.Deposit="deposit",e.Credit="credit",e.Asset="asset"}(c||(c={})),function(e){e[e.Archive=0]="Archive",e[e.Cleanup=1]="Cleanup",e[e.Move=2]="Move"}(o||(o={}));var q=(r={},Object(Q.a)(r,c.Cash,"Cash"),Object(Q.a)(r,c.Bank,"Bank Account"),Object(Q.a)(r,c.Deposit,"Deposit"),Object(Q.a)(r,c.Credit,"Credit"),Object(Q.a)(r,c.Asset,"Asset"),r),Z=c.Cash,X=o.Archive;function ee(e){return q[e]}function te(e){var t=e.id,n=e.balance,a=e.name,r=e.group,c=e.currencies,o=e.on_dashboard,i=e.archived;return{id:t||"A".concat(Date.now()),balance:Object.keys(n).reduce(function(e,t){return e[t]=B.numberToCents(""!==n[t]?n[t]:"0",t),e},{}),name:a,group:r,currencies:c,on_dashboard:o,archived:i}}function ne(e){return Object(b.a)({},e,{balance:Object.keys(e.balance).reduce(function(t,n){return t[n]=B.centsToString(e.balance[n],n,!1),t},{})})}function ae(e){return{id:e._id,name:e.name,group:e.group,balance:e.balance,currencies:e.currencies,on_dashboard:e.on_dashboard,archived:e.archived}}function re(e){return{name:e.name,group:e.group,balance:e.balance,currencies:e.currencies,on_dashboard:e.on_dashboard,archived:e.archived}}var ce,oe,ie={fromArray:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id";return ie.merge({byKey:{},keys:[]},e,t)},merge:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id";return{byKey:Object(b.a)({},e.byKey,t.reduce(function(e,t){return e[t[n]]=t,e},{})),keys:Object(f.a)(new Set(t.map(function(e){return e[n]}).filter(function(t){return!e.keys.includes(t)}).concat(e.keys)))}},set:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id";return ie.merge(e,[t],n)},remove:function(e,t){if(!e.byKey||!e.byKey[t])return e;var n=e.keys.filter(function(e){return e!==t});return{byKey:n.reduce(function(t,n){return t[n]=e.byKey[n],t},{}),keys:n}},get:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.byKey&&e.byKey[t]||n},map:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.keys.length,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return e.keys.slice(a,a+n).map(function(n){return t(e.byKey[n],n)})},filter:function(e,t){return e.keys.reduce(function(n,a){return t(e.byKey[a],a)&&n.push(e.byKey[a]),n},[])},apply:function(e,t){return{byKey:e.keys.reduce(function(n,a){return n[a]=t(e.byKey[a],a),n},{}),keys:e.keys}}},se=ie,ue=function(e,t){return e.name<t.name?-1:e.name>t.name?1:0},le=function(e){return e.entities.accounts},pe=function(e){return Object($.createSelector)(de,function(t){return t.find(function(t){return t.name===e})})},de=function(e){return se.map(e.entities.accounts,function(e){return Object(b.a)({},e)}).sort(ue)},me=Object($.createSelector)(de,function(e){return e.filter(function(e){return!e.archived})}),fe=Object($.createSelector)(me,function(e){return e.filter(function(e){return e.on_dashboard})}),be=Object($.createSelector)(de,function(e){return e.reduce(function(e,t){return e[t.id]=t.name,e},{})}),he=Object($.createSelector)(de,function(e){return e.reduce(function(e,t){return e[t.id]=t.currencies,e},{})}),ge=Object($.createSelector)(de,function(e){return e.reduce(function(e,t){return e.concat(t.currencies.filter(function(t){return!e.includes(t)}))},[])}),Oe=function(e,t,n){for(var a=e.reduce(function(e,a){var r=a.group;return e[r]||(e[r]={name:ee(r),accounts:[],total:0}),e[r].accounts.push(a),e[r].total+=Ce(a,t,n),e},{}),r=Object.keys(a),c=0;c<r.length;c++){a[r[c]].accounts.sort(ue)}return a},ye=Object($.createSelector)(me,Y,K,Oe),ve=Object($.createSelector)(fe,Y,K,Oe),Ee=(Object($.createSelector)(de,Y,K,Oe),Object($.createSelector)(ye,function(e){for(var t=[],n=Object.keys(e),a=0;a<n.length;a++){var r=n[a],c=!0,o=!1,i=void 0;try{for(var s,u=e[r].accounts[Symbol.iterator]();!(c=(s=u.next()).done);c=!0){var l=s.value;t.push({key:l.id,value:l.id,text:l.name,description:ee(r)})}}catch(p){o=!0,i=p}finally{try{c||null==u.return||u.return()}finally{if(o)throw i}}}return t})),je=Object($.createSelector)(de,Y,K,function(e,t,n){return e.reduce(function(e,a){return e+Ce(a,t,n)},0)}),Ce=function(e,t,n){return e.currencies.reduce(function(a,r){return Math.floor(a+B.convert(e.balance[r],n[r],t,r))},0)},xe=function(e){var t=e.value,n=e.code,a=e.showColor,r=void 0===a||a,c=e.showCents,o=void 0===c||c;return u.a.createElement("span",{className:"mono ".concat(r&&(t>=0?"positive":"negative"))},o?B.centsToString(t,n):B.centsToDollar(t,n)," ",n)},ke=Object(m.b)(function(e){return{netWorth:je(e),baseCurrency:Y(e)}})(function(e){var t=e.netWorth,n=e.baseCurrency;return u.a.createElement("div",{className:"net-worth__total"},u.a.createElement(xe,{value:t,code:n,showCents:!1}))}),Se=n(524),Ae=n(539),Te=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(O.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).handleEditClick=function(){n.props.openAccountInModal(ne(n.props.account))},n}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this;return u.a.createElement("div",{className:"account-widget-account"},u.a.createElement("div",{className:"account-widget-account__name"},u.a.createElement(Se.a,{to:"/transactions/".concat(this.props.account.id)},this.props.account.name)),u.a.createElement("div",{className:"account-widget-account__balance"},this.props.account.currencies.map(function(t){return u.a.createElement(xe,{key:t,value:e.props.account.balance[t],code:t})})),this.props.openAccountInModal&&u.a.createElement("div",{className:"account-widget-account__edit"},u.a.createElement(Ae.a,{basic:!0,circular:!0,icon:"pencil",onClick:this.handleEditClick})))}}]),t}(u.a.Component),_e=function(e){var t=e.baseCurrency,n=e.group,a=e.isCollapsed,r=e.toggleGroupCollapse,c=e.openAccountInModal;return u.a.createElement("div",{className:"account-widget-group"},u.a.createElement("div",{className:"account-widget-group__header",onClick:r},u.a.createElement("span",{className:"account-widget-group__name"},n.name),u.a.createElement("span",{className:"account-widget-group__total"},u.a.createElement(xe,{value:n.total,code:t,showCents:!1}))),!a&&n.accounts.map(function(e){return u.a.createElement(Te,{key:e.id,account:e,openAccountInModal:c})}))},Re=(n(349),function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(O.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).toggle=function(e){return function(){return n.props.toggleSectionCollapse(e)}},n}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=Object.keys(this.props.groups);return t.length>0&&u.a.createElement("div",{className:"account-widget"},t.map(function(t){return u.a.createElement(_e,{key:t,baseCurrency:e.props.baseCurrency,group:e.props.groups[t],isCollapsed:e.props.collapsedGroups.includes(t),toggleGroupCollapse:e.toggle(t),openAccountInModal:e.props.openAccountInModal})}))}}]),t}(u.a.Component)),we=Object(m.b)(function(e,t){return Object(b.a)({},t,{baseCurrency:Y(e),collapsedGroups:V(e),groups:ve(e)})},{toggleSectionCollapse:P})(Re),Ne=n(544),Ie=n(532),De=n(530),Me=n(526),Fe=n(32),Le=n.n(Fe),Pe=(new Date).getTimezoneOffset();function Ue(e){return(e instanceof Date?e.getTime():e)-60*Pe*1e3}function Ge(e){return(e instanceof Date?e.getTime():e)+60*Pe*1e3}!function(e){e[e.Expense=0]="Expense",e[e.Transfer=1]="Transfer",e[e.Income=2]="Income"}(oe||(oe={}));var Be=oe,Ke=Be.Expense,Ye=Be.Transfer,He=Be.Income,We=(ce={},Object(Q.a)(ce,Ke,"Expense"),Object(Q.a)(ce,Ye,"Transfer"),Object(Q.a)(ce,He,"Income"),ce),Ve=Ke,ze=5;function $e(e){return We[e]}function Je(e){var t=e.tags&&e.tags[e.kind];return Object(b.a)({},e,{id:e.id||"",amount:B.numberToCents(parseFloat(e.amount)*(e.kind===Ke?-1:1),e.currency),linkedAmount:e.kind===Ye&&e.linkedCurrency&&e.linkedAmount?B.numberToCents(e.linkedAmount,e.linkedCurrency):void 0,note:e.note||void 0,tags:t&&t.length>0?t:void 0,date:new Date(e.date).getTime()})}function Qe(e){var t=e._id,n=e.kind,a=e.note,r=e.tags,c=e.accountId,o=e.amount,i=e.currency,s=e.linkedAccountId,u=e.linkedAmount,l=e.linkedCurrency;if(!t)throw new Error('Transaction storage object missing "_id"');var p=t.match(/T([0-9]+)-/);if(!p)throw new Error('No date in Transaction ID "'.concat(t,'"'));return{id:t,date:parseInt(p[1],10),kind:n,note:a,tags:r,accountId:c,amount:o,currency:i,linkedAccountId:s,linkedAmount:u,linkedCurrency:l}}function qe(e){var t=e.kind,n=e.note,a=e.tags,r=e.accountId,c=e.amount,o=e.currency,i=e.linkedAccountId,s=e.linkedAmount,u=e.linkedCurrency;return Object(b.a)({kind:t,note:n,tags:a,accountId:r,amount:c,currency:o},t===Ye&&{linkedAccountId:i,linkedAmount:s,linkedCurrency:u})}var Ze=n(11),Xe=n.n(Ze),et=(Xe.a.shape({key:Xe.a.string,value:Xe.a.string,text:Xe.a.string}),n(531)),tt=function(e){var t=e.withTransfer,n=e.activeKind,a=e.changeKind,r=oe.Expense,c=oe.Transfer,o=oe.Income,i=t?[r,c,o]:[r,o];return u.a.createElement(et.a,{attached:"top",widths:i.length},i.map(function(e){return u.a.createElement(et.a.Item,{key:e,color:e===r?"red":e===o?"green":"black",name:$e(e),active:e===n,onClick:function(){return a(e)}})}))},nt=function(e){return u.a.createElement(Ie.a.Group,null,u.a.createElement(Ie.a.Field,{width:11,className:"mobile-with-margin"},u.a.createElement("label",null,e.label),u.a.createElement(De.a,{selection:!0,options:e.accountOptions,value:e.accountId,onChange:e.onAccountChange})),u.a.createElement(Ie.a.Field,{width:5,className:"mobile-with-margin input-right no-label"},u.a.createElement(Me.a,{required:!0,type:"number",min:B.minAmount(e.currency),step:B.minAmount(e.currency),value:e.amount,onChange:e.onAmountChange,labelPosition:"right",label:1===e.currencyOptions.length?e.currencyOptions[0].text:u.a.createElement(De.a,{options:e.currencyOptions,value:e.currency,onChange:e.onCurrencyChange})})))},at=(n(361),oe.Expense,oe.Transfer),rt=oe.Income,ct=function(){return u.a.createElement("div",{className:"transactions-form__empty"},"You don't have any accounts.")},ot=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(O.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).state={searchQuery:""},n.onSubmit=function(e){e.preventDefault(),n.props.saveTransaction(Je(n.props.form))},n.onChange=function(e){return function(t,n){var a=n.value;return e(a)}},n.onAccountChange=function(e){return function(t,a){var r=a.value;e({accountId:r,currency:n.props.accountCurrency[r]})}},n.onTagAdd=function(e,t){var a=t.value;n.props.addTag({kind:n.props.form.kind,tag:a})},n.onTagSearchChange=function(e,t){var a=t.searchQuery;return n.setState({searchQuery:a})},n.onTagClose=function(){return n.setState({searchQuery:""})},n.getCurrencyOptions=function(e){return n.props.accountCurrency[e].map(function(e){return{key:e,value:e,text:e}})},n.getGridClassName=function(){return n.props.form.kind===at?"transaction-form-grid single-line":"transaction-form-grid"},n}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return this.props.form.accountId?u.a.createElement(u.a.Fragment,null,u.a.createElement(tt,{withTransfer:!!this.props.form.linkedAccountId,activeKind:this.props.form.kind,changeKind:this.props.changeKind}),u.a.createElement(Ne.a,{attached:"bottom"},u.a.createElement(Ie.a,{onSubmit:this.onSubmit,className:"transaction-form"},u.a.createElement(nt,{label:this.props.form.kind===rt?"To":"From",accountId:this.props.form.accountId,amount:this.props.form.amount,currency:this.props.form.currency,accountOptions:this.props.accountOptions,currencyOptions:this.getCurrencyOptions(this.props.form.accountId),onAccountChange:this.onAccountChange(this.props.changeAccount),onAmountChange:this.onChange(this.props.changeAmount),onCurrencyChange:this.onChange(this.props.changeCurrency)}),this.props.form.kind===at&&u.a.createElement(nt,{label:"To",accountId:this.props.form.linkedAccountId,amount:this.props.form.linkedAmount,currency:this.props.form.linkedCurrency,accountOptions:this.props.accountOptions,currencyOptions:this.getCurrencyOptions(this.props.form.linkedAccountId),onAccountChange:this.onAccountChange(this.props.changeLinkedAccount),onAmountChange:this.onChange(this.props.changeLinkedAmount),onCurrencyChange:this.onChange(this.props.changeLinkedCurrency)}),u.a.createElement("div",{className:this.getGridClassName()},u.a.createElement("div",{className:"transaction-form-grid__column-wide"},this.props.form.kind!==at&&u.a.createElement("div",{className:"transaction-form-grid__field"},u.a.createElement(Ie.a.Field,null,u.a.createElement("label",null,"Tags"),u.a.createElement(De.a,{multiple:!0,selection:!0,search:!0,allowAdditions:!0,closeOnChange:!0,placeholder:"Choose existing tags or add new",value:this.props.form.tags[this.props.form.kind],options:this.props.tagsOptions,onChange:this.onChange(this.props.changeTags),onAddItem:this.onTagAdd,onClose:this.onTagClose,onSearchChange:this.onTagSearchChange,searchQuery:this.state.searchQuery}))),u.a.createElement("div",{className:"transaction-form-grid__field"},u.a.createElement(Ie.a.Field,null,u.a.createElement(Me.a,{placeholder:"Note",value:this.props.form.note,onChange:this.onChange(this.props.changeNote)})))),u.a.createElement("div",{className:"transaction-form-grid__column-narrow"},u.a.createElement("div",{className:"transaction-form-grid__field"},u.a.createElement(Ie.a.Field,null,u.a.createElement(Me.a,{required:!0,fluid:!0,type:"date",value:this.props.form.date,onChange:this.onChange(this.props.changeDate)}))),u.a.createElement("div",{className:"transaction-form-grid__field"},u.a.createElement(Ae.a,{primary:!0,fluid:!0,disabled:0===parseFloat(this.props.form.amount)},this.props.form.id?"Save":"Add"," ",$e(this.props.form.kind)))))))):u.a.createElement(ct,null)}}]),t}(u.a.Component),it=function(e){return e.entities.tags[e.ui.form.transaction.kind].map(function(e){return{key:e,value:e,text:e}})},st=function(e){return Object(f.a)(new Set(Object(f.a)(e.entities.tags[oe.Expense]).concat(Object(f.a)(e.entities.tags[oe.Income])))).map(function(e){return{key:e,value:e,text:e}})},ut=Object(w.a)("LOAD_FILTER_TRANSACTIONS","LOAD_FILTER_TRANSACTIONS_SUCCESS","LOAD_RECENT_TRANSACTIONS","LOAD_RECENT_TRANSACTIONS_SUCCESS","SAVE_TRANSACTION","SAVE_TRANSACTION_SUCCESS","REMOVE_TRANSACTION","REMOVE_TRANSACTION_SUCCESS"),lt=ut.loadFilterTransactions,pt=ut.loadFilterTransactionsSuccess,dt=ut.loadRecentTransactions,mt=ut.loadRecentTransactionsSuccess,ft=ut.saveTransaction,bt=ut.saveTransactionSuccess,ht=ut.removeTransaction,gt=ut.removeTransactionSuccess,Ot=Object(w.a)("LOAD_TAGS","LOAD_EXPENSE_TAGS_SUCCESS","LOAD_INCOME_TAGS_SUCCESS"),yt=Ot.loadTags,vt=Ot.loadExpenseTagsSuccess,Et=Ot.loadIncomeTagsSuccess,jt=Object(w.a)("FILL_IN_TRANSACTION_FORM","RESET_TRANSACTION_FORM","OPEN_TRANSACTION_IN_MODAL","CHANGE_KIND","CHANGE_ACCOUNT","CHANGE_AMOUNT","CHANGE_CURRENCY","CHANGE_LINKED_ACCOUNT","CHANGE_LINKED_AMOUNT","CHANGE_LINKED_CURRENCY","CHANGE_DATE","ADD_TAG","CHANGE_TAGS","CHANGE_NOTE"),Ct=jt.fillInTransactionForm,xt=jt.resetTransactionForm,kt=jt.openTransactionInModal,St=jt.changeKind,At=jt.changeAccount,Tt=jt.changeAmount,_t=jt.changeCurrency,Rt=jt.changeLinkedAccount,wt=jt.changeLinkedAmount,Nt=jt.changeLinkedCurrency,It=jt.changeDate,Dt=jt.addTag,Mt=jt.changeTags,Ft=jt.changeNote,Lt=Object(m.b)(function(e){return{form:e.ui.form.transaction,accountCurrency:he(e),accountOptions:Ee(e),tagsOptions:it(e)}},{changeKind:St,changeAccount:At,changeAmount:Tt,changeCurrency:_t,changeLinkedAccount:Rt,changeLinkedAmount:wt,changeLinkedCurrency:Nt,changeDate:It,changeNote:Ft,addTag:Dt,changeTags:Mt,loadTags:yt,saveTransaction:ft})(ot),Pt=n(205),Ut=(oe.Expense,oe.Transfer),Gt=oe.Income,Bt=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(O.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).handleEditClick=function(){n.props.openTransactionInModal(function(e){var t;return Object(b.a)({},e,{amount:B.centsToString(e.amount*(e.kind===Ke?-1:1),e.currency,!1),linkedAmount:e.kind===Ye&&e.linkedAmount&&e.linkedCurrency?B.centsToString(e.linkedAmount,e.linkedCurrency,!1):void 0,note:e.note||"",tags:(t={},Object(Q.a)(t,Ke,[]),Object(Q.a)(t,He,[]),Object(Q.a)(t,e.kind,e.tags||[]),t),date:Le()(Ge(e.date),"YYYY-MM-DD")})}(n.props.transaction))},n}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props.transaction;return u.a.createElement("div",{className:"transaction-item"},u.a.createElement("div",{className:"transaction-item__date"},Le()(Ge(e.date),"DD MMM")),u.a.createElement("div",{className:"transaction-item__info"},e.accountName,this.renderArrow(),e.kind===Ut&&e.linkedAccountName,e.tags&&e.tags.map(function(e){return u.a.createElement(Pt.a,{key:e,content:e})}),u.a.createElement("span",{className:"transaction-item__info__note"},e.note)),u.a.createElement("div",{className:"transaction-item__amount"},u.a.createElement(xe,{value:e.amount,code:e.currency,showColor:e.kind!==Ut}),e.kind===Ut&&this.renderLinkedAmount()),u.a.createElement("div",{className:"transaction-item__edit"},u.a.createElement(Ae.a,{circular:!0,basic:!0,icon:"pencil",onClick:this.handleEditClick,disabled:e.archived})))}},{key:"renderArrow",value:function(){var e=this.props.transaction,t=e.kind,n=e.tags,a=e.note;if(t===Ut||n||a)return u.a.createElement(R.a,{color:"grey",name:t===Gt?"arrow left":"arrow right"})}},{key:"renderLinkedAmount",value:function(){var e=this.props.transaction,t=e.linkedAmount,n=e.linkedCurrency,a=e.currency;if(n&&n!==a)return u.a.createElement("span",null,u.a.createElement(R.a,{color:"grey",name:"arrow right"}),u.a.createElement(xe,{value:t,code:n,showColor:!1}))}}]),t}(u.a.Component),Kt=n(534),Yt=n(545),Ht=function(e){return u.a.createElement(Kt.a,{closeIcon:!0,size:"small",className:"transaction",open:e.isOpen,onClose:e.resetTransactionForm},u.a.createElement(Yt.a,{icon:"file text outline",content:e.isEdit?"Edit Transaction":"New Transaction"}),u.a.createElement(Kt.a.Content,null,u.a.createElement(e.EditForm,null)),e.isEdit&&u.a.createElement(Kt.a.Actions,null,u.a.createElement(Ae.a,{negative:!0,icon:"trash",content:"Delete",labelPosition:"right",onClick:function(){return e.removeTransaction(e.currentTransactionId)}})))},Wt=(n(363),function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(O.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).renderTransaction=function(e){return u.a.createElement(Bt,{key:e.id,transaction:e,openTransactionInModal:n.props.openTransactionInModal})},n}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return u.a.createElement(Ne.a,{className:"transactions-list__wrapper"},u.a.createElement(k.a,{inverted:!0,active:this.props.isLoading},u.a.createElement(S.a,{active:!0,inline:"centered"})),this.props.transactions.length>0?this.props.transactions.map(this.renderTransaction):u.a.createElement("div",{className:"transactions-list__empty"},"No transactions found."),u.a.createElement(Ht,{currentTransactionId:this.props.currentTransactionId,EditForm:this.props.EditForm,isOpen:this.props.isModalOpen,isEdit:this.props.isEdit,resetTransactionForm:this.props.resetTransactionForm,removeTransaction:this.props.removeTransaction}))}}]),t}(u.a.Component)),Vt=function(e){var t=Ge(e.ui.transaction.filter.dateStart),n=Ge(e.ui.transaction.filter.dateEnd);return Le()(t,"DD MMM")!==Le()(n,"DD MMM")?"".concat(Le()(t,"DD MMM")," \u2014 ").concat(Le()(n,"DD MMM")):Le()(t,"MMMM, Do")},zt=function(e){return{date:{start:e.ui.transaction.filter.dateStart,end:e.ui.transaction.filter.dateEnd},accounts:new Set(e.ui.transaction.filter.applied.accounts),tags:e.ui.transaction.filter.applied.tags||[]}},$t=function(e){return e.ui.transaction.filter.page},Jt=Object($.createSelector)($t,function(e){return Math.ceil(e.ui.transaction.filter.totalRows/e.ui.transaction.filter.perPage)},function(e){return e.ui.isMobile?5:9},function(e,t,n){for(var a=[],r=Math.max(0,t-e-Math.ceil(n/2)),c=t>n?Math.max(n,t-r):t,o=Math.max(0,c-n);o<c;o++)a.push(o);return a}),Qt=function(e){return e.entities.transactions.filter},qt=Object($.createSelector)(function(e){return e.entities.transactions.recent},le,function(e,t){return se.map(e,function(e){return Xt(e,t)},ze)}),Zt=Object($.createSelector)(Qt,$t,le,function(e,t,n){return se.map(e,function(e){return Xt(e,n)},10,10*t)});function Xt(e,t){var n=se.get(t,e.accountId),a=se.get(t,e.linkedAccountId);return Object(b.a)({},e,{archived:n.archived||a.archived,accountName:n.name,linkedAccountName:a.name})}var en=function(e){return Object($.createSelector)(Qt,Y,K,function(t,n,a){return se.filter(t,function(t){return t.kind===e}).reduce(function(e,t){return Math.floor(e+B.convert(t.amount,a[t.currency],n,t.currency))},0)})},tn=oe.Expense,nn=oe.Income,an=function(e){return e.ui.form.transaction},rn=Object($.createSelector)(Ee,function(e){return e.length>0&&e[0].key}),cn=Object($.createSelector)(rn,he,Y,function(e,t,n){return e&&(t[e].includes(n)?n:t[e][0])}),on=Object($.createSelector)(Ee,rn,he,function(e,t,n){return e.length>1?e[1].key:t&&n[t].length>1&&t}),sn=Object($.createSelector)(rn,on,he,Y,function(e,t,n,a){return e&&e===t?n[e][1]:t&&(n[t].includes(a)?a:n[t][0])}),un=Object($.createSelector)(rn,cn,on,sn,function(e,t,n,a){var r;return{kind:Ve,isModalOpen:!1,accountId:e||null,currency:t||null,amount:"",linkedAccountId:n||null,linkedCurrency:a||null,linkedAmount:"",tags:(r={},Object(Q.a)(r,tn,[]),Object(Q.a)(r,nn,[]),r),date:Le()(new Date,"YYYY-MM-DD"),note:""}}),ln=Object(m.b)(function(e){return{currentTransactionId:an(e).id,transactions:qt(e),isModalOpen:an(e).isModalOpen,isEdit:void 0!==an(e).id,EditForm:Lt}},{openTransactionInModal:kt,resetTransactionForm:xt,removeTransaction:ht})(Wt),pn=Object(w.a)("LOAD_ACCOUNTS","LOAD_ACCOUNTS_SUCCESS","SAVE_ACCOUNT","SAVE_ACCOUNT_FAILURE","SAVE_ACCOUNT_SUCCESS","UPDATE_ACCOUNT","REMOVE_ACCOUNT","REMOVE_ACCOUNT_REQUEST","REMOVE_ACCOUNT_START","REMOVE_ACCOUNT_ITEM_PROCESSED","REMOVE_ACCOUNT_FAILURE","REMOVE_ACCOUNT_SUCCESS"),dn=pn.loadAccounts,mn=pn.loadAccountsSuccess,fn=pn.saveAccount,bn=pn.saveAccountFailure,hn=pn.saveAccountSuccess,gn=pn.updateAccount,On=pn.removeAccount,yn=pn.removeAccountRequest,vn=pn.removeAccountStart,En=pn.removeAccountItemProcessed,jn=pn.removeAccountFailure,Cn=pn.removeAccountSuccess,xn=function(){var e=parseInt(localStorage.getItem("total_wait_time")),t=parseInt(localStorage.getItem("number_of_waits"));(null===t||isNaN(t))&&(e=0,t=0);var n=performance.getEntries(),a=0;n.forEach(function(e){isNaN(e.duration)||(a+=e.duration)}),e+=a,t+=1,console.log("currentWait",a),console.log("totalWaitTime",e),localStorage.setItem("total_wait_time",e),localStorage.setItem("number_of_waits",t)},kn=function(e){function t(){return Object(h.a)(this,t),Object(O.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.loadTags(),this.props.loadAccounts(),this.props.loadRecentTransactions(),xn()}},{key:"render",value:function(){return u.a.createElement("div",{className:"container-full-page"},u.a.createElement(_.a,null,u.a.createElement(_.a.Row,null,u.a.createElement(_.a.Column,{computer:6,mobile:16},u.a.createElement(z,{name:"net_worth",label:"Net Worth",LabelComponent:ke},u.a.createElement(we,null))),u.a.createElement(_.a.Column,{computer:10,mobile:16},u.a.createElement(z,{name:"add_tx",label:"New Transaction"},u.a.createElement(Lt,null)),u.a.createElement(z,{name:"recent_tx",label:"Recent Transactions"},u.a.createElement(ln,null))))))}}]),t}(u.a.Component),Sn=Object(m.b)(void 0,{loadTags:yt,loadAccounts:dn,loadRecentTransactions:dt})(kn),An=Object(m.b)(function(e){return{currentTransactionId:an(e).id,isLoading:e.ui.transaction.filter.isLoading,transactions:Zt(e),isModalOpen:an(e).isModalOpen,isEdit:void 0!==an(e).id,EditForm:Lt}},{openTransactionInModal:kt,resetTransactionForm:xt,removeTransaction:ht})(Wt),Tn=n(233),_n=n.n(Tn),Rn=(n(371),(new Date).getFullYear()),wn=new Date(Rn-8,0),Nn=new Date(Rn+2,11);function In(e){for(var t=e.date,n=e.localeUtils,a=e.onChange,r=n.getMonths(),c=[],o=wn.getFullYear();o<=Nn.getFullYear();o+=1)c.push(o);var i=function(e){var t=e.target.form,n=t.year,r=t.month;a(new Date(n.value,r.value))};return u.a.createElement("form",{className:"DayPicker-Caption"},u.a.createElement("select",{name:"month",onChange:i,value:t.getMonth()},r.map(function(e,t){return u.a.createElement("option",{key:t,value:t},e)})),u.a.createElement("select",{name:"year",onChange:i,value:t.getFullYear()},c.map(function(e,t){return u.a.createElement("option",{key:t,value:e},e)})))}var Dn,Mn,Fn=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(O.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).state={month:null,from:null,to:null},n.handleDayClick=function(e){var t=Tn.DateUtils.addDayToRange(e,n.state);n.setState(t)},n.handleYearMonthChange=function(e){n.setState({month:e})},n.handleResetClick=function(){n.setState({month:null,from:null,to:null})},n.handleApplyClick=function(){var e=n.state,t=e.from,a=e.to;n.props.changeFilterDate({dateStart:t.setHours(0,0,0),dateEnd:a&&a.setHours(23,59,59)||t.setHours(23,59,59)}),n.props.toggleFilterCalendar()},n}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.state,t=e.month,n=e.from,a=e.to;return u.a.createElement(Kt.a,{open:this.props.isCalendarOpen,onClose:this.props.toggleFilterCalendar,className:"transactions-filter-modal",closeIcon:!0,size:"small"},u.a.createElement(Kt.a.Header,null,"Show transactions in range"),u.a.createElement(Kt.a.Content,null,u.a.createElement(_n.a,{className:"Range",fixedWeeks:!0,enableOutsideDays:!0,numberOfMonths:this.props.isMobile?1:2,selectedDays:[n,{from:n,to:a}],month:t,captionElement:u.a.createElement(In,{onChange:this.handleYearMonthChange}),onDayClick:this.handleDayClick})),u.a.createElement(Kt.a.Actions,null,u.a.createElement(Ae.a,{content:"Reset",onClick:this.handleResetClick}),u.a.createElement(Ae.a,{content:"Apply",onClick:this.handleApplyClick,positive:!0,disabled:null===this.state.from&&null===this.state.to})))}}]),t}(u.a.Component),Ln=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(O.a)(this,Object(y.a)(t).call(this,e))).handleAccountChange=function(e,t){var a=t.value;return n.setState({accounts:a})},n.handleTagsChange=function(e,t){var a=t.value;return n.setState({tags:a})},n.handleResetClick=function(){n.setState({accounts:[],tags:[]})},n.handleApplyClick=function(){n.props.applyFilters(n.state),n.props.toggleFilterModal()},n.state={accounts:n.props.appliedAccounts,tags:n.props.appliedTags},n}return Object(v.a)(t,e),Object(g.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.appliedAccounts,n=e.appliedTags;this.setState({accounts:t,tags:n})}},{key:"render",value:function(){return u.a.createElement(Kt.a,{open:this.props.isFilterModalOpen,onClose:this.props.toggleFilterModal,closeIcon:!0,size:"tiny"},u.a.createElement(Kt.a.Header,null,"Filter transactions"),u.a.createElement(Kt.a.Content,null,u.a.createElement(Ie.a,null,u.a.createElement(Ie.a.Group,{widths:"equal"},u.a.createElement(Ie.a.Field,null,u.a.createElement("label",null,"Account"),u.a.createElement(De.a,{multiple:!0,selection:!0,search:!0,closeOnChange:!0,onChange:this.handleAccountChange,options:this.props.accountOptions,value:this.state.accounts}))),u.a.createElement(Ie.a.Group,{widths:"equal"},u.a.createElement(Ie.a.Field,null,u.a.createElement("label",null,"Tags"),u.a.createElement(De.a,{multiple:!0,selection:!0,search:!0,closeOnChange:!0,onChange:this.handleTagsChange,options:this.props.tagsOptions,value:this.state.tags}))))),u.a.createElement(Kt.a.Actions,null,u.a.createElement(Ae.a,{content:"Reset",onClick:this.handleResetClick}),u.a.createElement(Ae.a,{content:"Apply",onClick:this.handleApplyClick,positive:!0})))}}]),t}(u.a.Component),Pn=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(O.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).removeAppliedAccount=function(e){return function(){n.props.applyFilters({accounts:n.props.appliedAccounts.filter(function(t){return t!==e}),tags:n.props.appliedTags})}},n.removeAppliedTag=function(e){return function(){n.props.applyFilters({accounts:n.props.appliedAccounts,tags:n.props.appliedTags.filter(function(t){return t!==e})})}},n}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this;return 0===this.props.appliedAccounts.length&&0===this.props.appliedTags.length?null:u.a.createElement("div",{className:"transactions-filters-applied"},this.props.appliedAccounts.map(function(t){return u.a.createElement(Pt.a,{key:t,content:e.props.accountNameMap[t],icon:"credit card",onRemove:e.removeAppliedAccount(t)})}),this.props.appliedTags.map(function(t){return u.a.createElement(Pt.a,{key:t,content:t,icon:"tag",onRemove:e.removeAppliedTag(t)})}))}}]),t}(u.a.Component),Un=n(277),Gn=n.n(Un),Bn=n(199),Kn=n.n(Bn),Yn=n(142),Hn=n.n(Yn),Wn=n(278),Vn=n.n(Wn),zn=n(279),$n=n.n(zn),Jn=n(196),Qn=n.n(Jn);function qn(e){return function(){return Gn()(Kn()(),e)}}!function(e){e[e.today=0]="today",e[e.yesterday=1]="yesterday",e[e.lastWeek=2]="lastWeek",e[e.lastMonth=3]="lastMonth",e[e.thisMonth=4]="thisMonth",e[e.custom=5]="custom"}(Mn||(Mn={}));var Zn=qn(7),Xn=qn(30),ea=(Dn={},Object(Q.a)(Dn,Mn.today,{text:"Today",start:Kn.a,end:Hn.a}),Object(Q.a)(Dn,Mn.yesterday,{text:"Yesterday",start:Vn.a,end:$n.a}),Object(Q.a)(Dn,Mn.lastWeek,{text:"Last 7 days",start:Zn,end:Hn.a}),Object(Q.a)(Dn,Mn.lastMonth,{text:"Last 30 days",start:Xn,end:Hn.a}),Object(Q.a)(Dn,Mn.thisMonth,{text:"This month",start:function(){var e=new Date;return Qn()(e)},end:Hn.a}),Object(Q.a)(Dn,Mn.custom,{text:"Custom date",start:Kn.a,end:Hn.a}),Dn),ta=Mn.lastWeek,na=ea[ta].start,aa=ea[ta].end;function ra(e){return ea[e].end()}n(375);var ca=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(O.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).options=Object.entries(ea).map(function(e){var t=Object(J.a)(e,2),n=t[0],a=t[1].text;return{key:n,value:parseInt(n),text:a}}),n.lastValue=ta,n.handleDateRange=function(e,t){var a,r=t.value;r!==n.lastValue&&(r===Mn.custom?n.props.toggleFilterCalendar():(n.props.changeFilterDate({dateStart:(a=r,ea[a].start()),dateEnd:ra(r)}),n.lastValue=r))},n}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this;return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"container-header"},u.a.createElement(Ae.a.Group,{basic:!0,fluid:!0},u.a.createElement(Ae.a,{icon:"plus",labelPosition:"left",content:"New",onClick:function(){return e.props.openTransactionInModal(Object(b.a)({},e.props.selectedAccount?{accountId:e.props.selectedAccount}:{}))}}),u.a.createElement(De.a,{button:!0,className:"icon",options:this.options,defaultValue:ta,onChange:this.handleDateRange,text:this.props.dateRangeLabel,labeled:!0,icon:"calendar"}),u.a.createElement(Ae.a,{icon:"filter",onClick:this.props.toggleFilterModal})),u.a.createElement(Fn,this.props),u.a.createElement(Ln,this.props)),u.a.createElement(Pn,this.props))}}]),t}(u.a.Component),oa=Object(w.a)("CHANGE_FILTER_DATE","TOGGLE_FILTER_CALENDAR","CHANGE_FILTER_PAGE","TOGGLE_FILTER_MODAL","APPLY_FILTERS"),ia=oa.changeFilterDate,sa=oa.toggleFilterCalendar,ua=oa.changeFilterPage,la=oa.toggleFilterModal,pa=oa.applyFilters,da=Object(m.b)(function(e){return{isMobile:e.ui.isMobile,dateRangeLabel:Vt(e),isCalendarOpen:e.ui.transaction.filter.isCalendarOpen,isFilterModalOpen:e.ui.transaction.filter.isFilterModalOpen,accountOptions:Ee(e),accountNameMap:be(e),appliedAccounts:e.ui.transaction.filter.applied.accounts||[],tagsOptions:st(e),appliedTags:e.ui.transaction.filter.applied.tags||[]}},{changeFilterDate:ia,toggleFilterCalendar:sa,toggleFilterModal:la,applyFilters:pa,openTransactionInModal:kt})(ca),ma=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(O.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).handlePageChange=function(e){return function(){return n.props.changeFilterPage(e)}},n.handlePrevClick=function(){n.props.page>0&&n.props.changeFilterPage(n.props.page-1)},n.handleNextClick=function(){var e=n.props.pages[n.props.pages.length-1];n.props.page<e&&n.props.changeFilterPage(n.props.page+1)},n}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this;return this.props.pages.length<2?null:u.a.createElement("div",{className:"transactions-list-pager"},u.a.createElement(et.a,{pagination:!0},u.a.createElement(et.a.Item,{as:"a",icon:!0,onClick:this.handlePrevClick},u.a.createElement(R.a,{name:"left chevron"})),this.props.pages.map(function(t){return u.a.createElement(et.a.Item,{as:"a",key:t,active:t===e.props.page,onClick:e.handlePageChange(t)},t+1)}),u.a.createElement(et.a.Item,{as:"a",icon:!0,onClick:this.handleNextClick},u.a.createElement(R.a,{name:"right chevron"}))))}}]),t}(u.a.Component),fa=Object(m.b)(function(e){return{page:$t(e),pages:Jt(e)}},{changeFilterPage:ua})(ma),ba=n(535),ha=function(e){var t=e.base,n=e.income,a=e.expense;return u.a.createElement("div",{className:"transactions-list-footer"},u.a.createElement(ba.a,{fixed:!0,basic:"very",unstackable:!0},u.a.createElement(ba.a.Body,null,u.a.createElement(ba.a.Row,null,u.a.createElement(ba.a.Cell,null,"Total income"),u.a.createElement(ba.a.Cell,{textAlign:"right"},u.a.createElement(xe,{code:t,value:n}))),u.a.createElement(ba.a.Row,null,u.a.createElement(ba.a.Cell,null,"Total expense"),u.a.createElement(ba.a.Cell,{textAlign:"right"},u.a.createElement(xe,{code:t,value:a}))),u.a.createElement(ba.a.Row,null,u.a.createElement(ba.a.Cell,null),u.a.createElement(ba.a.Cell,{textAlign:"right"},u.a.createElement(xe,{code:t,value:n+a}))))))},ga=Object(m.b)(function(e){return{base:Y(e),income:en(oe.Income)(e),expense:en(oe.Expense)(e)}})(ha),Oa=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(O.a)(this,Object(y.a)(t).call(this,e))).props.applyFilters({accounts:e.match.params.accountId?[e.match.params.accountId]:[]}),n}return Object(v.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.loadAccounts(),this.props.loadTags(),this.props.loadFilterTransactions()}},{key:"render",value:function(){return u.a.createElement("div",{className:"container-full-page flat search-page"},u.a.createElement(da,{selectedAccount:this.props.match.params.accountId}),u.a.createElement(An,null),u.a.createElement(fa,null),u.a.createElement(ga,null))}}]),t}(u.a.Component),ya=Object(m.b)(void 0,{loadAccounts:dn,loadTags:yt,loadFilterTransactions:lt,applyFilters:pa})(Oa),va=Object(w.a)("FILL_IN_ACCOUNT_FORM","RESET_ACCOUNT_FORM","OPEN_ACCOUNT_IN_MODAL","CHANGE_NAME","CHANGE_GROUP","CHANGE_BALANCE","TOGGLE_CURRENCY","TOGGLE_ON_DASHBOARD"),Ea=va.fillInAccountForm,ja=va.resetAccountForm,Ca=va.openAccountInModal,xa=va.changeName,ka=va.changeGroup,Sa=va.changeBalance,Aa=va.toggleCurrency,Ta=va.toggleOnDashboard,_a=function(e){return e.ui.form.account},Ra=function(e){return{isOpen:e.ui.form.account.isModalOpen,isDeleteRequest:e.ui.form.account.isDeleteRequest,isDeleteRunning:e.ui.form.account.isDeleteRunning,itemsToProcess:e.ui.form.account.itemsToProcess,itemsProcessed:e.ui.form.account.itemsProcessed}},wa=n(525),Na=n(537),Ia=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(O.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).state={strategy:X},n.onStrategyChange=function(e,t){var a=t.value;n.setState(Object(b.a)({},n.state,{strategy:a}))},n.onAccountChange=function(e,t){var a=t.value;n.setState(Object(b.a)({},n.state,{moveTo:a}))},n.onProceed=function(){n.props.removeAccount({id:n.props.form.id,strategy:n.state.strategy,moveTo:n.getMoveTo()})},n.getMoveTo=function(){return n.state.moveTo||n.props.accountOptions.length&&n.props.accountOptions[0].key},n}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this,t=this.props.accountOptions.length>0;return u.a.createElement(u.a.Fragment,null,u.a.createElement("h3",null,'You are about to delete account "',this.props.form.name,'"'),u.a.createElement("p",{style:{marginTop:"1em"}},"What should we do with transactions linked to this account?"),u.a.createElement(Ie.a,null,function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[{key:o.Archive,value:o.Archive,text:"Archive account, keep transactions as is"},{key:o.Cleanup,value:o.Cleanup,text:"Delete transactions with account"}];return e&&t.push({key:o.Move,value:o.Move,text:"Move transactions to another account"}),t}(t).map(function(t){return u.a.createElement(Ie.a.Field,{key:t.key},u.a.createElement(wa.a,{name:"deleteStrategy",label:t.text,value:t.value,checked:e.state.strategy===t.value,onChange:e.onStrategyChange,disabled:e.props.modal.isDeleteRunning}))}),t&&this.state.strategy===o.Move&&u.a.createElement(Ie.a.Field,null,u.a.createElement(De.a,{selection:!0,value:this.getMoveTo(),options:this.props.accountOptions,onChange:this.onAccountChange,disabled:this.props.modal.isDeleteRunning})),u.a.createElement(Ie.a.Field,null,this.props.modal.isDeleteRunning?u.a.createElement(Na.a,{value:this.props.modal.itemsProcessed,total:this.props.modal.itemsToProcess}):u.a.createElement(Ae.a,{negative:!0,labelPosition:"right",icon:"arrow right",content:"Proceed",onClick:this.onProceed}))))}}]),t}(u.a.Component),Da=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(O.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).reset=function(){if(n.props.modal.isDeleteRunning)return!1;n.props.resetAccountForm()},n}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return u.a.createElement(Kt.a,{closeIcon:!0,size:"small",className:"account-form",open:this.props.modal.isOpen,onClose:this.reset},u.a.createElement(Yt.a,{icon:"file text outline",content:this.props.isEdit?"Edit Account":"New Account"}),u.a.createElement(Kt.a.Content,null,this.props.modal.isDeleteRequest?u.a.createElement(Ia,this.props):u.a.createElement(this.props.EditForm,null)),u.a.createElement(Kt.a.Actions,null,this.renderModalActions()))}},{key:"renderModalActions",value:function(){if(this.props.isEdit)return this.props.modal.isDeleteRequest?u.a.createElement(Ae.a,{labelPosition:"left",disabled:this.props.modal.isDeleteRunning,onClick:this.props.removeAccountRequest,content:"Cancel",icon:"cancel"}):u.a.createElement(Ae.a,{negative:!0,labelPosition:"right",onClick:this.props.removeAccountRequest,content:"Delete",icon:"trash"})}}]),t}(u.a.Component),Ma=Object(m.b)(function(e,t){return Object(b.a)({},t,{baseCurrency:Y(e),collapsedGroups:V(e),groups:ye(e)})},{toggleSectionCollapse:P,openAccountInModal:Ca})(Re),Fa=n(551),La=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(O.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).handleCurrencyChange=function(e,t){var a=t.value;n.props.toggleCurrency(a)},n.handleBalanceChange=function(e){return function(t,a){var r=a.value;n.props.changeBalance({code:e,balance:r})}},n}return Object(v.a)(t,e),Object(g.a)(t,[{key:"componentWillMount",value:function(){this.updateCurrencyList(this.props.base,this.props.secondary),this.setInitialCurrencyCheckbox(this.props.base)}},{key:"componentWillReceiveProps",value:function(e){this.updateCurrencyList(e.base,e.secondary),this.setInitialCurrencyCheckbox(e.base)}},{key:"updateCurrencyList",value:function(e,t){this.currencies=[e].concat(Object(f.a)(t))}},{key:"setInitialCurrencyCheckbox",value:function(e){0===this.props.form.currencies.length&&this.props.toggleCurrency(e)}},{key:"render",value:function(){var e=this;return this.currencies.map(function(t){return u.a.createElement(Ie.a.Group,{unstackable:!0,key:t,style:{marginBottom:"1em",marginTop:"1em"}},u.a.createElement(Ie.a.Field,{className:"checkbox",width:9},u.a.createElement(Fa.a,{value:t,label:B.name(t),checked:e.props.form.currencies.includes(t),onChange:e.handleCurrencyChange})),u.a.createElement(Ie.a.Field,{className:"input-right",width:7},e.props.form.id?u.a.createElement(xe,{code:t,value:B.numberToCents(e.props.form.balance[t]||0,t)}):u.a.createElement(Me.a,{fluid:!0,type:"number",placeholder:"Balance",labelPosition:"right",label:t,step:B.minAmount(t),value:e.props.form.balance[t]||"",onChange:e.handleBalanceChange(t)})))})}}]),t}(u.a.Component),Pa=(n(377),function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(O.a)(this,Object(y.a)(t).call(this,e))).handleNameChange=function(e,t){var a=t.value;return n.props.changeName(a)},n.handleGroupChange=function(e,t){var a=t.value;return n.props.changeGroup(a)},n.handleSubmit=function(e){e.preventDefault(),n.props.saveAccount(te(n.props.form))},n.groups=Object.entries(q).map(function(e){var t=Object(J.a)(e,2),n=t[0];return{key:n,value:n,text:t[1]}}),n}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return u.a.createElement(Ie.a,{className:"account-form",onSubmit:this.handleSubmit},u.a.createElement(Ie.a.Group,null,u.a.createElement(Ie.a.Input,{width:9,required:!0,label:"Name",placeholder:"Account name",value:this.props.form.name,onChange:this.handleNameChange}),u.a.createElement(Ie.a.Select,{width:7,label:"Group",value:this.props.form.group,options:this.groups,onChange:this.handleGroupChange})),u.a.createElement(La,this.props),u.a.createElement(Ie.a.Group,{unstackable:!0},u.a.createElement(Ie.a.Field,{width:9,style:{paddingTop:"0.5em"}},u.a.createElement(Fa.a,{label:"Show on Dashboard",checked:this.props.form.on_dashboard,onChange:this.props.toggleOnDashboard})),u.a.createElement(Ie.a.Button,{width:7,primary:!0,fluid:!0,content:"Save Account"})))}}]),t}(u.a.Component)),Ua=Object(m.b)(function(e){return{form:_a(e),base:Y(e),secondary:W(e)}},{changeName:xa,changeGroup:ka,changeBalance:Sa,toggleCurrency:Aa,toggleOnDashboard:Ta,saveAccount:fn,removeAccount:On})(Pa),Ga=function(e){function t(){return Object(h.a)(this,t),Object(O.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(g.a)(t,[{key:"componentWillMount",value:function(){this.props.loadAccounts(),xn()}},{key:"render",value:function(){return u.a.createElement("div",{className:"container-full-page flat"},u.a.createElement("div",{className:"container-header"},u.a.createElement(Ae.a.Group,{basic:!0},u.a.createElement(Ae.a,{icon:"plus",labelPosition:"left",content:"New",onClick:this.props.openAccountInModal}))),u.a.createElement("div",{className:"accounts-list-wrapper"},u.a.createElement(Ma,null)),u.a.createElement(Da,this.props))}}]),t}(u.a.Component),Ba=Object(m.b)(function(e){return{form:_a(e),modal:Ra(e),isEdit:void 0!==_a(e).id,accountOptions:Ee(e).filter(function(t){return t.key!==_a(e).id}),EditForm:Ua}},{loadAccounts:dn,openAccountInModal:Ca,resetAccountForm:ja,removeAccountRequest:yn,removeAccount:On})(Ga),Ka=Object(w.a)("CHANGE_REPORT_KIND","CHANGE_REPORT_TIMESPAN","CHANGE_REPORT_ACCOUNTS","CHANGE_REPORT_EXCLUDED_TAGS","MOVE_REPORT_DATE_BACKWARDS","MOVE_REPORT_DATE_FORWARDS","LOAD_REPORT","LOAD_REPORT_SUCCESS","LOAD_REPORT_FAILURE"),Ya=Ka.changeReportKind,Ha=Ka.changeReportTimespan,Wa=Ka.changeReportAccounts,Va=Ka.changeReportExcludedTags,za=Ka.moveReportDateBackwards,$a=Ka.moveReportDateForwards,Ja=Ka.loadReport,Qa=Ka.loadReportSuccess,qa=Ka.loadReportFailure,Za=n(169),Xa=n.n(Za),er=n(228),tr=n.n(er),nr=n(280),ar=n.n(nr),rr=n(281),cr=n.n(rr),or=n(227),ir=n.n(or),sr=n(282),ur=n.n(sr),lr=n(283),pr=n.n(lr),dr=n(147),mr=n.n(dr),fr=n(139),br=n.n(fr),hr=oe.Expense,gr=oe.Income;function Or(e,t,n,a){var r=e.timespan===Er.Yearly?br()(0,12).map(function(e){return Le()((new Date).setMonth(e),"MMM")}):br()(1,mr()(e.date.start)+1).map(function(e){return"".concat(e).padStart(2,"0")}),c=[new Array(r.length).fill(0),new Array(r.length).fill(0)],o=new Set(e.excludeTags),i=!0,s=!1,u=void 0;try{for(var l,p=t[Symbol.iterator]();!(i=(l=p.next()).done);i=!0){var d=l.value;if(d.kind===hr||d.kind===gr){var m=Le()(Ue(d.date),e.timespan===Er.Yearly?"M":"D"),f=B.convert(Math.abs(d.amount),n[d.currency],a,d.currency);c[d.kind===gr?0:1][parseInt(m)-1]+=f,d.tags&&d.tags.find(function(e){return o.has(e)})&&(c[0][parseInt(m)-1]-=f,c[1][parseInt(m)-1]-=f)}}}catch(b){s=!0,u=b}finally{try{i||null==p.return||p.return()}finally{if(s)throw u}}return{labels:r,series:c.map(function(e){return e.map(function(e){return Math.floor(B.centsToNumber(e,a))})})}}var yr,vr,Er,jr=oe.Expense,Cr=oe.Income;!function(e){e.ExpenseIncome="expense_income",e.NetIncome="net_income",e.ExpenseTags="expense_tags",e.NetWorth="net_worth"}(vr||(vr={})),function(e){e.Yearly="yearly",e.Monthly="monthly"}(Er||(Er={}));var xr=Er,kr=xr.Yearly,Sr=xr.Monthly,Ar=vr.ExpenseIncome,Tr=kr;function _r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tr;return Dr(new Date,e)}function Rr(e,t){var n=e.start;return Dr(t===kr?pr()(n,1):ur()(n,1),t)}function wr(e,t){var n=e.start;return Dr(t===kr?tr()(n,1):Xa()(n,1),t)}var Nr=(yr={},Object(Q.a)(yr,vr.ExpenseIncome,Or),Object(Q.a)(yr,vr.NetIncome,Or),Object(Q.a)(yr,vr.ExpenseTags,function(e,t,n,a){var r=new Map,c=new Set(e.excludeTags),o=!0,i=!1,s=void 0;try{for(var u,l=t[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var p=u.value;if(p.kind===oe.Expense&&p.tags&&!p.tags.find(function(e){return c.has(e)})){var d=!0,m=!1,b=void 0;try{for(var h,g=p.tags[Symbol.iterator]();!(d=(h=g.next()).done);d=!0){var O=h.value,y=r.get(O)||0,v=B.convert(Math.abs(p.amount),n[p.currency],a,p.currency);r.set(O,y+v)}}catch(j){m=!0,b=j}finally{try{d||null==g.return||g.return()}finally{if(m)throw b}}}}}catch(j){i=!0,s=j}finally{try{o||null==l.return||l.return()}finally{if(i)throw s}}var E=new Map(Object(f.a)(r.entries()).sort(function(e,t){return t[1]-e[1]}));return{labels:Object(f.a)(E.keys()),series:[Object(f.a)(E.values()).map(function(e){return Math.floor(B.centsToNumber(e,a))})]}}),Object(Q.a)(yr,vr.NetWorth,function(e,t,n,a,r){var c,o=e.timespan===Er.Yearly?br()(0,12).map(function(e){return Le()((new Date).setMonth(e),"MMM")}):br()(1,mr()(e.date.start)+1).map(function(e){return"".concat(e).padStart(2,"0")}),i=[],s=!0,u=!1,l=void 0;try{for(var p,d=t[Symbol.iterator]();!(s=(p=d.next()).done);s=!0){var m=p.value;if(m.kind===jr||m.kind===Cr){var f=parseInt(Le()(Ue(m.date),e.timespan===Er.Yearly?"M":"D"))-1;f!==c&&(void 0===c&&(i[c=f+1]=r),i[f]=i[c]),c=f,i[f]-=B.convert(m.amount,n[m.currency],a,m.currency)}}}catch(b){u=!0,l=b}finally{try{s||null==d.return||d.return()}finally{if(u)throw l}}return c&&c>0&&(i[0]=i[c]),e.date.end<Date.now()&&i.length<o.length&&(i[o.length-1]=i[i.length-1]),{labels:o,series:[i.map(function(e){return Math.floor(B.centsToNumber(e,a))})],netWorthStart:i[0],netWorthEnd:r}}),yr),Ir=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return Nr[e.kind].apply(Nr,[e].concat(n))};function Dr(e,t){var n=t===kr?ir.a:Qn.a,a=t===kr?cr.a:ar.a,r=new Date(e);return r.setDate(r.getDate()+1),{start:Ue(n(r)),end:Ue(a(r))}}var Mr=n(87),Fr=n.n(Mr),Lr=n(66),Pr=n.n(Lr),Ur=n(88),Gr=n.n(Ur),Br=(n(166),n(96),n(97),n(540)),Kr=function(e){function t(){return Object(h.a)(this,t),Object(O.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e={axisY:{labelInterpolationFnc:function(e){return Gr()(e,2)}},plugins:[Pr.a.plugins.tooltip({class:"mono",currency:this.props.currency,anchorToPoint:!0})]},t=this.props,n=t.data,a=t.base,r=n.series?n.series[0].filter(function(e){return 0!==e}):[],c=n.series?n.series[1].filter(function(e){return 0!==e}):[];return u.a.createElement(u.a.Fragment,null,u.a.createElement("div",{className:"mt-report-stats"},u.a.createElement(Br.a.Group,{size:"mini"},u.a.createElement(Br.a,null,u.a.createElement(Br.a.Value,null,u.a.createElement(xe,{code:a,value:B.numberToCents(r.reduce(function(e,t){return e+t},0),a),showCents:!1})),u.a.createElement(Br.a.Label,null,"Total income")),u.a.createElement(Br.a,null,u.a.createElement(Br.a.Value,null,u.a.createElement(xe,{code:a,value:-1*B.numberToCents(c.reduce(function(e,t){return e+t},0),a),showCents:!1})),u.a.createElement(Br.a.Label,null,"Total expense")))),u.a.createElement(Fr.a,{type:"Bar",className:"ct-octave mt-report-expense-income",data:n,options:e}))}}]),t}(u.a.Component),Yr=function(e){function t(){return Object(h.a)(this,t),Object(O.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e={axisY:{labelInterpolationFnc:function(e){return Gr()(e,2)}},plugins:[Pr.a.plugins.tooltip({class:"mono",currency:this.props.currency,anchorToPoint:!0})]},t=this.props,n=t.data,a=t.base,r=n.series[0].map(function(e,t){return e-n.series[1][t]}),c=r.filter(function(e){return 0!==e});return u.a.createElement(u.a.Fragment,null,c.length>0&&u.a.createElement("div",{className:"mt-report-stats"},u.a.createElement(Br.a.Group,{size:"mini"},u.a.createElement(Br.a,null,u.a.createElement(Br.a.Value,null,u.a.createElement(xe,{code:a,value:B.numberToCents(c.reduce(function(e,t){return e+t},0),a),showCents:!1})),u.a.createElement(Br.a.Label,null,"Total net income")),u.a.createElement(Br.a,null,u.a.createElement(Br.a.Value,null,u.a.createElement(xe,{code:a,value:B.numberToCents(c.reduce(function(e,t){return e+t},0)/c.length,a),showCents:!1})),u.a.createElement(Br.a.Label,null,"Average net income")))),u.a.createElement(Fr.a,{type:"Bar",className:"ct-octave mt-report-expense-income",data:Object(b.a)({},n,{series:[r]}),options:e,listener:{draw:function(e){"bar"===e.type&&e.value.y<0&&e.element.attr({style:"stroke: #f44336"})}}}))}}]),t}(u.a.Component),Hr=function(e){function t(){return Object(h.a)(this,t),Object(O.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e={axisY:{offset:70},axisX:{labelInterpolationFnc:function(e){return Gr()(e,2)}},reverseData:!0,horizontalBars:!0,plugins:[Pr.a.plugins.tooltip({class:"mono",currency:this.props.currency,anchorToPoint:!0})]};return u.a.createElement(Fr.a,{type:"Bar",className:"mt-report-expense-tags",style:{height:"".concat(3*this.props.data.labels.length,"em")},data:this.props.data,options:e})}}]),t}(u.a.Component),Wr=function(e){function t(){return Object(h.a)(this,t),Object(O.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e={showArea:!0,low:0,axisY:{labelInterpolationFnc:function(e){return Gr()(e,2)}},plugins:[Pr.a.plugins.tooltip({class:"mono",currency:this.props.currency,anchorToPoint:!0})]};return u.a.createElement(Fr.a,{type:"Line",className:"ct-octave mt-report-net-worth",data:this.props.data,options:e})}}]),t}(u.a.Component),Vr=(n(385),function(e){function t(){return Object(h.a)(this,t),Object(O.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return u.a.createElement("div",{className:"ct-octave mt-report"},u.a.createElement(S.a,{active:this.props.isLoading}),!this.props.isLoading&&this.renderReportByKind())}},{key:"renderReportByKind",value:function(){switch(this.props.kind){case vr.ExpenseIncome:return u.a.createElement(Kr,this.props);case vr.NetIncome:return u.a.createElement(Yr,this.props);case vr.NetWorth:return u.a.createElement(Wr,this.props);case vr.ExpenseTags:return u.a.createElement(Hr,this.props);default:return"Not available"}}}]),t}(u.a.Component)),zr=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(O.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).handleKindChange=function(e,t){var a=t.value;n.props.changeReportKind(a)},n.handleTimespanChange=function(e,t){var a=t.value;n.props.changeReportTimespan(a)},n}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return u.a.createElement("div",{className:"container-header"},u.a.createElement(Ae.a.Group,{basic:!0},u.a.createElement(De.a,{button:!0,value:this.props.kind,options:this.props.kindOptions,onChange:this.handleKindChange}),u.a.createElement(Ae.a,{icon:"chevron left",onClick:this.props.moveReportDateBackwards}),u.a.createElement(De.a,{basic:!0,button:!0,icon:!1,text:this.props.timespanLabel,value:this.props.timespan,options:this.props.timespanOptions,onChange:this.handleTimespanChange}),u.a.createElement(Ae.a,{icon:"chevron right",onClick:this.props.moveReportDateForwards})))}}]),t}(u.a.Component),$r=function(e){return e.ui.report},Jr=function(e){var t,n,a=new Date(e.ui.report.date.start);return a.setDate(a.getDate()+1),t=a,n=e.ui.report.timespan,Le()(t,n===kr?"YYYY":"MMM, YYYY")},Qr=Object(m.b)(function(e){return{kind:e.ui.report.kind,kindOptions:[{key:vr.ExpenseIncome,value:vr.ExpenseIncome,text:"Expense & Income"},{key:vr.ExpenseTags,value:vr.ExpenseTags,text:"Expense by Tags"},{key:vr.NetIncome,value:vr.NetIncome,text:"Net Income"},{key:vr.NetWorth,value:vr.NetWorth,text:"Net Worth"}],timespan:e.ui.report.timespan,timespanOptions:[{key:kr,value:kr,text:"Yearly"},{key:Sr,value:Sr,text:"Monthly"}],timespanLabel:Jr(e)}},{changeReportKind:Ya,changeReportTimespan:Ha,moveReportDateBackwards:za,moveReportDateForwards:$a})(zr),qr=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(O.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).handleAccountsChange=function(e,t){var a=t.value;n.props.changeReportAccounts(a)},n.handleTagsChange=function(e,t){var a=t.value;n.props.changeReportExcludedTags(a)},n}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return u.a.createElement("div",{className:"container-footer"},u.a.createElement(De.a,{multiple:!0,selection:!0,fluid:!0,placeholder:"Specify accounts",value:this.props.accounts,options:this.props.accountOptions,onChange:this.handleAccountsChange}),u.a.createElement(De.a,{multiple:!0,selection:!0,fluid:!0,search:!0,placeholder:"Exclude tags",value:this.props.excludeTags,options:this.props.tagsOptions,onChange:this.handleTagsChange}))}}]),t}(u.a.Component),Zr=Object(m.b)(function(e){return{accounts:e.ui.report.accounts,accountOptions:Ee(e),excludeTags:e.ui.report.excludeTags,tagsOptions:st(e)}},{changeReportAccounts:Wa,changeReportExcludedTags:Va})(qr),Xr=function(e){function t(){return Object(h.a)(this,t),Object(O.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(g.a)(t,[{key:"componentWillMount",value:function(){this.props.loadAccounts(),this.props.loadReport(),xn()}},{key:"render",value:function(){return u.a.createElement("div",{className:"container-full-page flat"},u.a.createElement(Qr,null),u.a.createElement(Vr,this.props),u.a.createElement(Zr,null))}}]),t}(u.a.Component),ec=Object(m.b)(function(e){return{isLoading:e.ui.report.isLoading,currency:H(e),base:Y(e),kind:e.ui.report.kind,data:e.ui.report.data}},{loadAccounts:dn,loadReport:Ja})(Xr),tc=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(O.a)(this,Object(y.a)(t).call(this,e))).handleBaseChange=function(e,t){var a=t.value;n.props.changeSettingsCurrency({base:a,secondary:n.props.secondary})},n.handleSecondaryChange=function(e,t){var a=t.value;n.props.changeSettingsCurrency({base:n.props.base,secondary:a})},n.options=B.options(),n.updateSecondaryOptions(e.base),n}return Object(v.a)(t,e),Object(g.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.updateSecondaryOptions(e.base)}},{key:"updateSecondaryOptions",value:function(e){this.secondaryOptions=this.options.filter(function(t){return t.key!==e})}},{key:"render",value:function(){return u.a.createElement(Ie.a,null,u.a.createElement(Ie.a.Group,{widths:"equal"},u.a.createElement(Ie.a.Field,null,u.a.createElement("label",null,"Base Currency"),u.a.createElement(De.a,{search:!0,selection:!0,onChange:this.handleBaseChange,options:this.options,value:this.props.base})),u.a.createElement(Ie.a.Field,null,u.a.createElement("label",null,"Additional Currencies (optional)"),u.a.createElement(De.a,{placeholder:"Select additional currencies",search:!0,selection:!0,multiple:!0,renderLabel:function(e){return e.key},closeOnChange:!0,onChange:this.handleSecondaryChange,options:this.secondaryOptions,value:this.props.secondary}))))}}]),t}(u.a.Component),nc=Object(m.b)(function(e){return{base:Y(e),secondary:W(e)}},{changeSettingsCurrency:D})(tc),ac=function(e){var t=[e.base].concat(Object(f.a)(e.secondary));return u.a.createElement(ba.a,{celled:!0,unstackable:!0,definition:!0},u.a.createElement(ba.a.Header,null,u.a.createElement(ba.a.Row,null,u.a.createElement(ba.a.HeaderCell,null),t.map(function(e){return u.a.createElement(ba.a.HeaderCell,{key:e,textAlign:"center",content:e})}))),u.a.createElement(ba.a.Body,null,t.map(function(n){return u.a.createElement(ba.a.Row,{key:n},u.a.createElement(ba.a.Cell,{textAlign:"center",content:n}),t.map(function(t){var a=e.exchangeRate[t]/e.exchangeRate[n];return u.a.createElement(ba.a.Cell,{key:"".concat(n,"-").concat(t),disabled:n===t,textAlign:"center",content:Number(a).toLocaleString(void 0,{minimumFractionDigits:4,maximumFractionDigits:a<.001?6:4})})}))})))},rc=function(e){function t(){return Object(h.a)(this,t),Object(O.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props,t=e.base,n=e.secondary,a=e.exchangeRate;return u.a.createElement(ba.a,{basic:!0},u.a.createElement(ba.a.Body,null,n.map(function(e){return u.a.createElement(ba.a.Row,{key:e},u.a.createElement(ba.a.Cell,null,"1 ",e," = ",Number(1/a[e]).toFixed(6)," ",t),u.a.createElement(ba.a.Cell,null,"1 ",t," = ",a[e]," ",e))})))}}]),t}(u.a.Component),cc=(n(387),function(e){return e.secondary.length>0&&u.a.createElement(Ne.a,{basic:!0,className:"exchange-rate-table"},u.a.createElement(k.a,{inverted:!0,active:e.isLoading},u.a.createElement(S.a,null)),e.isMobile?u.a.createElement(rc,e):u.a.createElement(ac,e),u.a.createElement(Ae.a,{basic:!0,content:"Update exchange rate",icon:"refresh",onClick:e.updateExchangeRate}))}),oc=Object(m.b)(function(e){return{base:Y(e),secondary:W(e),exchangeRate:K(e),isLoading:e.ui.settings.isExchangeLoading,isMobile:e.ui.isMobile}},{updateExchangeRate:M})(cc),ic=n(8),sc=n.n(ic),uc=n(38),lc=n(538),pc=(n(391),n(284)),dc=n(238),mc={};function fc(e){return void 0===mc[e]&&(mc[e]=new dc.a(e,{auto_compaction:!0})),mc[e]}function bc(e){var t="remote_".concat(e);if(void 0===mc[t]){var n=JSON.parse(localStorage.getItem("userInfo"));if(n&&n.couchDB&&n.couchDB[e]){var a=n.couchDB,r=a.username,c=a.password;mc[t]=new dc.a(n.couchDB[e],{skipSetup:!0,auth:r&&c?{username:r,password:c}:void 0})}}return mc[t]}function hc(e){if(void 0!==mc[e]){var t=mc[e];return delete mc[e],delete mc["remote_".concat(e)],t.destroy()}}var gc=function(){return fc("settings")},Oc=function(){return fc("accounts")},yc=function(){return fc("transactions")},vc=function(){return fc("tags")},Ec=function(){return bc("settings")},jc=function(){return bc("accounts")},Cc=function(){return bc("transactions")},xc=function(){return bc("tags")},kc=function(){return hc("settings")},Sc=function(){return hc("accounts")},Ac=function(){return hc("transactions")},Tc=function(){return hc("tags")},_c=n(285),Rc=n.n(_c),wc={sync:function(){return Nc.apply(this,arguments)},load:function(e){return yc().get(e).then(Qe).catch(function(e){if(404!==e.status)throw e})},getAll:function(){return Mc.apply(this,arguments)},loadRecent:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze;return yc().allDocs({include_docs:!0,descending:!0,startkey:"T\uffff",endkey:"T",limit:e}).then(function(e){return e.rows.map(function(e){return e.doc})}).then(function(e){return e.map(Qe)})},loadFiltered:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return yc().allDocs({include_docs:!0,descending:!0,startkey:e.date?"T".concat(e.date.end,"-\uffff"):"T\uffff",endkey:e.date?"T".concat(e.date.start,"-"):"T"}).then(function(e){return e.rows.map(function(e){return e.doc})}).then(function(t){return function(e,t){Array.isArray(t)&&(t=new Set(t));return t&&t.size?e.filter(function(e){return t.has(e.accountId)||t.has(e.linkedAccountId)}):e}(t,e.accounts)}).then(function(t){return function(e,t){return t&&t.length>0?e.filter(function(e){return Rc()(e.tags,t).length>0}):e}(t,e.tags)}).then(function(e){return e.map(function(e){return Qe(e)})})},save:Fc,remove:function(e){return!!e&&yc().get(e).then(function(e){return yc().put(Object(b.a)({},e,{_deleted:!0})).then(function(){return e})}).catch(function(e){if(404!==e.status)throw e;return!1})},destroy:function(){return Ac()}};function Nc(){return(Nc=Object(uc.a)(sc.a.mark(function e(){var t,n,a=arguments;return sc.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=!(a.length>0&&void 0!==a[0])||a[0],Cc()){e.next=3;break}return e.abrupt("return");case 3:return n={batch_size:500},e.next=6,yc().replicate.from(Cc(),n).on("change",function(){var e=Object(uc.a)(sc.a.mark(function e(t){return sc.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.docs.map(Ic));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}());case 6:if(t){e.next=9;break}return e.next=9,yc().replicate.to(Cc(),n);case 9:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Ic(e){return Dc.apply(this,arguments)}function Dc(){return(Dc=Object(uc.a)(sc.a.mark(function e(t){return sc.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t._id.startsWith("T")||t._id.includes("-")||t._deleted){e.next=5;break}return e.next=3,Fc(Object(b.a)({},t,{id:"T".concat(t.date,"-").concat(t._id.substr(1)),date:void 0,tags:t.tags&&t.tags.length?t.tags:void 0,note:t.note&&t.note.length?t.note:void 0}));case 3:return e.next=5,yc().remove(t);case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Mc(){return(Mc=Object(uc.a)(sc.a.mark(function e(){return sc.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yc().allDocs({include_docs:!0,descending:!0,startkey:"T\uffff",endkey:"T"}).then(function(e){return e.rows.map(function(e){return e.doc})}).then(function(e){return e.map(Qe)}));case 1:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Fc(e){return yc().get(e.id).then(function(t){return yc().put(Object(b.a)({},t,qe(e)))}).catch(function(t){if(404!==t.status)throw t;return yc().put(Object(b.a)({_id:e.id},qe(e)))})}var Lc=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(O.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).handleSaveFile=Object(uc.a)(sc.a.mark(function e(){var t;return sc.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wc.getAll();case 2:t=e.sent,Object(pc.save)(JSON.stringify(t),JSON.stringify(new Date(Date.now()))+"_export.json");case 4:case"end":return e.stop()}},e,this)})),n}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return u.a.createElement("div",{className:"mt-dataExport"},u.a.createElement("p",null,"Export transactions to a JSON file."),this.props.error&&u.a.createElement(lc.a,{error:!0,icon:"warning circle",header:"Failed to Export",content:this.props.error}),!this.props.isFileSelected&&u.a.createElement(u.a.Fragment,null,u.a.createElement(Ae.a,{content:"Export JSON File",icon:"file text",onClick:this.handleSaveFile})))}}]),t}(u.a.Component),Pc=Object(w.a)("SAVE_EXPORT_FILE").saveExportFile,Uc=Object(m.b)(function(e){return{}},{saveExportFile:Pc})(Lc),Gc=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],Bc=(n(438),function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(O.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).handleFileChange=function(e){return n.props.openImportFile(e.target.files[0])},n.handleOpenFile=function(){return n.fileInput.click()},n}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this;return u.a.createElement("div",{className:"mt-dataImport"},u.a.createElement("p",null,"Import transactions from a CSV file."),this.props.error&&u.a.createElement(lc.a,{error:!0,icon:"warning circle",header:"Failed to import",content:this.props.error}),!this.props.isFileSelected&&u.a.createElement(u.a.Fragment,null,u.a.createElement(Ae.a,{content:"Open File",icon:"file text",onClick:this.handleOpenFile}),u.a.createElement("input",{type:"file",accept:"text/csv",ref:function(t){e.fileInput=t},onChange:this.handleFileChange})),this.props.isFileSelected&&u.a.createElement(u.a.Fragment,null,u.a.createElement("p",null,"Selected file:"," ",u.a.createElement("strong",null,this.props.filename," (",function(e){if(!Number.isFinite(e))throw new TypeError("Expected a finite number, got ".concat(typeof e,": ").concat(e));var t=e<0;if(t&&(e=-e),e<1)return(t?"-":"")+e+" B";var n=Math.min(Math.floor(Math.log10(e)/3),Gc.length-1);return(t?"-":"")+Number((e/Math.pow(1e3,n)).toPrecision(3))+" "+Gc[n]}(this.props.filesize),")")),!this.props.isProcessing&&u.a.createElement(Ae.a.Group,null,u.a.createElement(Ae.a,{onClick:this.props.discardImportFile},"Discard File"),u.a.createElement(Ae.a.Or,null),u.a.createElement(Ae.a,{onClick:this.props.startDataImport,positive:!0},"Start Import")),this.props.isProcessing&&u.a.createElement(Na.a,{active:!0,indicating:!0,autoSuccess:!0,total:this.props.linesToProcess,value:this.props.linesProcessed})))}}]),t}(u.a.Component)),Kc=Object(w.a)("OPEN_IMPORT_FILE","DISCARD_IMPORT_FILE","START_DATA_IMPORT","IMPORT_FILE_READ_SUCCESS","IMPORT_LINE_PROCESSED","IMPORT_FAILURE"),Yc=Kc.openImportFile,Hc=Kc.discardImportFile,Wc=Kc.startDataImport,Vc=Kc.importFileReadSuccess,zc=Kc.importLineProcessed,$c=Kc.importFailure,Jc=function(e){return e.ui.dataImport.file},Qc=Object(m.b)(function(e){var t=Jc(e);return{isFileSelected:e.ui.dataImport.isFileSelected,isProcessing:e.ui.dataImport.isProcessing,linesToProcess:e.ui.dataImport.linesToProcess,linesProcessed:e.ui.dataImport.linesProcessed,filename:t&&t.name,filesize:t&&t.size,error:e.ui.dataImport.error}},{openImportFile:Yc,discardImportFile:Hc,startDataImport:Wc})(Bc),qc=n(529),Zc=n(20),Xc=Object(Zc.createAction)("user/ui/sign_out/SIGN_OUT_REQUEST"),eo=Object(Zc.createAction)("user/ui/sign_out/SIGN_OUT_SUCCESS"),to=Object(Zc.createAction)("user/ui/sign_out/SIGN_OUT_FAILURE",function(e){return function(t){return e(t)}}),no=function(e){return e.user.isDemoUser},ao=function(e){return e.user.isSignedIn},ro=function(e){function t(){return Object(h.a)(this,t),Object(O.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return this.props.isSignOutComplete?u.a.createElement(E.a,{to:"/"}):u.a.createElement(qc.a,{on:"click",trigger:u.a.createElement(Ae.a,{content:this.signOutButtonLabel(),icon:this.signOutButtonIcon(),labelPosition:"right"}),header:"Local data will de deleted!",content:u.a.createElement(Ae.a,{content:"Confirm",negative:!0,style:{marginTop:"1em"},floated:"right",loading:this.props.isSignOutRunning,disabled:this.props.isSignOutRunning,onClick:this.props.signOut})})}},{key:"signOutButtonLabel",value:function(){return this.props.isDemo?"Reset demo":this.props.isAuthenticated?"Sign out":"Delete data"}},{key:"signOutButtonIcon",value:function(){return this.props.isDemo?"refresh":this.props.isAuthenticated?"sign out":"trash"}}]),t}(u.a.Component),co=Object(m.b)(function(e){return{isDemo:no(e),isAuthenticated:ao(e),isSignOutRunning:"REQUEST"===e.user.ui.signOut.signOutState,isSignOutComplete:"COMPLETE"===e.user.ui.signOut.signOutState}},{signOut:Xc})(ro),oo=[{path:"/",exact:!0,label:"Dashboard",icon:"newspaper",component:Sn},{path:"/accounts",exact:!1,label:"Accounts",icon:"credit card",component:Ba},{path:"/reports",exact:!1,label:"Reports",icon:"line chart",component:ec},{path:"/transactions/:accountId?",link:"/transactions",exact:!1,label:"Transactions",icon:"exchange",component:ya},{path:"/budget",exact:!1,label:"Budget",icon:"shopping basket",component:function(){return u.a.createElement(lc.a,{size:"large",icon:"hourglass half",header:"Work in Progress",content:"This page is not ready yet, check back later \ud83d\ude09"})}},{path:"/settings",exact:!0,label:"Settings",icon:"options",component:function(){return u.a.createElement("div",{className:"container-full-page mt-settings"},u.a.createElement(z,{name:"settings_currency",label:"Currency"},u.a.createElement(nc,null),u.a.createElement(oc,null)),u.a.createElement(z,{name:"settings_import",label:"Data Import"},u.a.createElement(Qc,null)),u.a.createElement(z,{name:"settings_export",label:"Data Export"},u.a.createElement(Uc,null)),u.a.createElement(z,{name:"settings_user",label:"User"},u.a.createElement(co,null)))}}],io=n(528),so=Object(Zc.createAction)("user/ui/sign_in/CHANGE_EMAIL",function(e){return function(t){return e(t)}}),uo=Object(Zc.createAction)("user/ui/sign_in/CHANGE_CODE",function(e){return function(t){return e(t)}}),lo=Object(Zc.createAction)("user/ui/sign_in/SEND_CODE"),po=Object(Zc.createAction)("user/ui/sign_in/SEND_CODE_SUCCESS"),mo=Object(Zc.createAction)("user/ui/sign_in/SEND_CODE_FAILURE",function(e){return function(t){return e(t)}}),fo=Object(Zc.createAction)("user/ui/sign_in/VERIFY_CODE"),bo=Object(Zc.createAction)("user/ui/sign_in/VERIFY_CODE_SUCCESS"),ho=Object(Zc.createAction)("user/ui/sign_in/VERIFY_CODE_FAILURE",function(e){return function(t){return e(t)}}),go=Object(Zc.createAction)("user/ui/sign_in/FINISH_AUTH"),Oo=(n(441),function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(O.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).renderSendCodeForm=function(){return u.a.createElement(u.a.Fragment,null,u.a.createElement("p",null,"Please provide your email address and we will send you a verification code for sign in."),u.a.createElement(Ie.a,{onSubmit:n.props.sendCode},u.a.createElement("div",{className:"auth--input-field"},u.a.createElement(Me.a,{fluid:!0,required:!0,placeholder:"Email Address",name:"email",type:"email",icon:"mail",iconPosition:"left",value:n.props.email,onChange:function(e,t){var a=t.value;return n.props.changeEmail(a)},disabled:"REQUEST"===n.props.sendCodeStatus,action:{primary:!0,content:"Send Code",loading:"REQUEST"===n.props.sendCodeStatus}}))),u.a.createElement(Yt.a,{as:"h3"},"Why do I need to sign in?"),u.a.createElement("p",{style:{marginTop:"1em"}},"After you sign in for the first time we will create a new database for you hosted in the cloud. This database will be used to synchronize your data among different devices as well as for back up."))},n.renderVerifyCodeForm=function(){return u.a.createElement(Ie.a,{onSubmit:n.props.verifyCode},u.a.createElement("p",null,"An email with the code has been sent to ",n.props.email),u.a.createElement("div",{className:"auth--input-field"},u.a.createElement(Me.a,{fluid:!0,required:!0,placeholder:"Your Code",type:"number",icon:"lock",iconPosition:"left",value:n.props.code,onChange:function(e,t){var a=t.value;return n.props.changeCode(a)},disabled:"REQUEST"===n.props.verifyCodeStatus,action:u.a.createElement(Ae.a,{primary:!0,content:"Sign In",loading:"REQUEST"===n.props.verifyCodeStatus})}),u.a.createElement(Ae.a,{basic:!0,as:"a"},"Didn't get the code?")))},n}return Object(v.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.location&&this.props.location.hash&&this.props.finishAuth()}},{key:"render",value:function(){return this.props.isSignedIn?u.a.createElement(E.a,{to:"/"}):this.props.location&&this.props.location.hash?u.a.createElement(S.a,{active:!0,content:"Synchronizing data, this might take a moment..."}):u.a.createElement("div",{className:"container-raised-desktop"},u.a.createElement(Yt.a,{as:"h2",icon:"id card outline",content:"Sign In"}),u.a.createElement(io.a,null),this.props.error&&u.a.createElement(lc.a,{error:!0},u.a.createElement(lc.a.Header,null,"Error"),u.a.createElement(lc.a.Content,null,this.props.error)),"SUCCESS"!==this.props.sendCodeStatus?this.renderSendCodeForm():this.renderVerifyCodeForm(),u.a.createElement(io.a,null),u.a.createElement("p",null,u.a.createElement(Se.a,{to:"/"},"Back")))}}]),t}(u.a.Component)),yo=Object(m.b)(function(e){var t=e.user;return Object(b.a)({},t.ui.signIn,{isSignedIn:t.isSignedIn})},{changeEmail:so,changeCode:uo,sendCode:lo,verifyCode:fo,finishAuth:go})(Oo),vo=function(e){function t(){return Object(h.a)(this,t),Object(O.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.loadAccounts(),xn()}},{key:"render",value:function(){return u.a.createElement("div",{className:"container-raised-desktop"},u.a.createElement(Yt.a,{as:"h2",icon:"settings",content:"Money Tracker Setup"}),u.a.createElement(io.a,null),!this.props.isAuthenticated&&u.a.createElement("p",null,u.a.createElement(Se.a,{to:"/auth"},"Sign in")," if you want to sync your data with the cloud. You may also use the tracker without signing in. Your data will be stored only on current device in this case. You can sign in and sync your data any time later."),u.a.createElement(Yt.a,{as:"h2"},"Currencies"),u.a.createElement("p",null,"Select your base currency \u2014 the currency which will be used by default.",u.a.createElement("br",null),"You can also select any number of additional currencies, if you use them."),u.a.createElement(nc,null),u.a.createElement(oc,null),u.a.createElement(Yt.a,{as:"h2"},"Accounts"),u.a.createElement("p",null,"Create accounts that you would like to keep track of.",u.a.createElement("br",null),"It could be cash in your wallet, bank accounts, credit cards or even a loan to your friend."),u.a.createElement(Ua,null),this.props.accounts.length>0&&u.a.createElement("div",{style:{margin:"1em"}},u.a.createElement(Ma,null),u.a.createElement("div",{className:"form-submit"},u.a.createElement(Ae.a,{primary:!0,content:"Finish",onClick:this.props.completeSetup}))))}}]),t}(u.a.Component),Eo=Object(m.b)(function(e){return{isAuthenticated:ao(e),accounts:de(e)}},{loadAccounts:dn,completeSetup:U})(vo),jo=function(e){var t=e.isOpen,n=e.toggleSidebar;return u.a.createElement("nav",{className:t?"open":"closed",onClick:n},u.a.createElement(et.a,{fluid:!0,color:"blue",vertical:!0,icon:"labeled"},oo.map(function(e){return u.a.createElement(j.a,{key:e.path,exact:e.exact,path:e.path,children:function(t){var n=t.match;return u.a.createElement(et.a.Item,{as:Se.a,to:e.link||e.path,active:!!n},u.a.createElement(R.a,{name:e.icon}),e.label)}})})))},Co=n(287),xo=n.n(Co),ko=(n(443),function(){return u.a.createElement("div",{className:"logo"},u.a.createElement("img",{src:xo.a,alt:"Money Tracker"}))}),So=n(508),Ao=Object(So.a)("TOGGLE_SIDEBAR"),To=Object(w.a)("DISMISS_SYNC_WARNING","SET_PENDING_CHANGES_FLAG","SYNC","SYNC_REQUEST","SYNC_SUCCESS","SYNC_FAILURE"),_o=To.dismissSyncWarning,Ro=To.setPendingChangesFlag,wo=To.sync,No=To.syncRequest,Io=To.syncSuccess,Do=To.syncFailure,Mo=(n(445),Object(m.b)(function(e,t){return Object(b.a)({},t,{isMobile:e.ui.isMobile,isAuthenticated:ao(e),isSyncRunning:e.ui.sync.isRunning,hasPendingChanges:e.ui.sync.hasPendingChanges})},{toggleSidebar:Ao,sync:wo})(function(e){var t=e.label,n=e.isMobile,a=e.isAuthenticated,r=e.isSyncRunning,c=e.hasPendingChanges,o=e.toggleSidebar,i=e.sync;return u.a.createElement("header",null,u.a.createElement(Yt.a,null,n&&u.a.createElement(R.a,{name:"bars",onClick:o}),!n&&u.a.createElement(ko,null),u.a.createElement(Yt.a.Content,{as:"h2"},t),a&&(r?u.a.createElement(R.a,{name:"refresh",loading:!0}):u.a.createElement(R.a,{name:"refresh",color:c?"olive":void 0,onClick:i,style:{cursor:"pointer"}}))))})),Fo=function(e){function t(){return Object(h.a)(this,t),Object(O.a)(this,Object(y.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){return this.props.isVisible?u.a.createElement(lc.a,{size:"large",icon:"user circle outline",header:"Welcome to demo account!",content:u.a.createElement("div",{style:{marginTop:"0.5em"}},u.a.createElement("p",null,"You are logged in as a demo user with sample data generated to show you how things might look like."),u.a.createElement("p",null,"All the changes you make will only be stored locally on your device."),u.a.createElement("p",null,u.a.createElement(Ae.a,{as:"a",href:"https://app.moneytracker.cc",icon:"sign in",content:"Go to Live app",labelPosition:"right"})))}):null}}]),t}(u.a.Component),Lo=Object(m.b)(function(e){return{isVisible:no(e)}})(Fo),Po=Object(So.a)("WINDOW_RESIZE"),Uo=Object(So.a)("BOOTSTRAP"),Go=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(O.a)(this,(e=Object(y.a)(t)).call.apply(e,[this].concat(r)))).renderNavigationRoutes=function(){if(window.location.pathname.endsWith("index.html"))return u.a.createElement(E.a,{to:"/"});var e=n.props,t=e.isSidebarOpen,a=e.isMobile,r=e.toggleSidebar;return u.a.createElement(u.a.Fragment,null,u.a.createElement(k.a,{page:!0,active:a&&t,onClick:r,style:{zIndex:100}}),u.a.createElement(jo,{isOpen:!a||t,toggleSidebar:r}),function e(t){var n=[];t.forEach(function(t){t.routes?(n.push(Object(b.a)({},t,{exact:!0})),n.push.apply(n,Object(f.a)(e(t.routes)))):n.push(t)});return n}(oo).map(function(e){return u.a.createElement(j.a,{key:e.path,path:e.path,exact:e.exact,render:function(t){return u.a.createElement(u.a.Fragment,null,u.a.createElement(Mo,{label:e.label}),u.a.createElement("div",{className:"container"},u.a.createElement(Lo,null),u.a.createElement(e.component,t)))}})}))},n}return Object(v.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",T()(this.props.windowResize,500)),this.props.bootstrap();var e=document.createElement("script");e.src="https://usability-session.onrender.com/static/plugin/instrumentation.js",e.addEventListener("load",function(){localStorage.setItem("scenarioId","6455873c93620f7be7a1cd4b"),setTimeout(function(){window.instrumentation.start({serverUrl:"usability-session.onrender.com",scenarioId:"6455873c93620f7be7a1cd4b"})},3e3)}),document.head.appendChild(e)}},{key:"render",value:function(){return this.props.isLoaded?u.a.createElement("div",null,u.a.createElement(C.a,{history:this.props.history},u.a.createElement(x.a,null,u.a.createElement(j.a,{path:"/auth",exact:!0,component:yo}),this.props.isSetupComplete?u.a.createElement(j.a,{render:this.renderNavigationRoutes}):u.a.createElement(j.a,{component:Eo})))):u.a.createElement(S.a,{active:!0,content:this.props.isSyncRunning&&"Synchronizing data, this might take a moment..."})}}]),t}(u.a.Component);var Bo=Object(m.b)(function(e,t){return{history:t.history,isLoaded:e.settings.isLoaded,isSyncRunning:e.ui.sync.isRunning,isSetupComplete:e.settings.isSetupComplete,isMobile:e.ui.isMobile,isSidebarOpen:e.ui.isSidebarOpen}},{bootstrap:Uo,windowResize:Po,toggleSidebar:Ao})(Go),Ko=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(O.a)(this,Object(y.a)(t).call(this,e))).state={error:null},n}return Object(v.a)(t,e),Object(g.a)(t,[{key:"componentDidCatch",value:function(e,t){this.setState({error:e}),console.log("sentry error",e),d.withScope(function(n){Object.keys(t).forEach(function(e){n.setExtra(e,t[e])}),d.captureException(e)})}},{key:"render",value:function(){return this.state.error?u.a.createElement("button",{onClick:function(){return d.showReportDialog()}},"Report feedback"):this.props.children}}]),t}(u.a.Component),Yo=function(e){var t=e.store,n=e.history;return u.a.createElement(Ko,null,u.a.createElement(m.a,{store:t},u.a.createElement(Bo,{history:n})))},Ho=(n(447),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function Wo(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var Vo,zo,$o,Jo,Qo,qo,Zo,Xo,ei,ti,ni,ai,ri,ci=n(294),oi=n(28),ii=n(288),si=n(541),ui=n(552),li=se.fromArray([]),pi=Object(si.a)((Vo={},Object(Q.a)(Vo,mn,function(e,t){var n=t.payload;return se.fromArray(n)}),Object(Q.a)(Vo,Object(ui.a)(fn,gn),function(e,t){var n=t.payload;return se.set(e,n)}),Object(Q.a)(Vo,Object(ui.a)(Cn,bn),function(e,t){var n=t.payload;return se.remove(e,n)}),Object(Q.a)(Vo,Object(Zc.getType)(eo),function(){return li}),Vo),li),di=oe.Expense,mi=oe.Transfer,fi=oe.Income,bi=(zo={},Object(Q.a)(zo,di,[]),Object(Q.a)(zo,mi,[]),Object(Q.a)(zo,fi,[]),zo),hi=Object(si.a)(($o={},Object(Q.a)($o,vt,function(e,t){var n=t.payload;return Object(b.a)({},e,Object(Q.a)({},di,n))}),Object(Q.a)($o,Et,function(e,t){var n=t.payload;return Object(b.a)({},e,Object(Q.a)({},fi,n))}),Object(Q.a)($o,Dt,function(e,t){var n=t.payload,a=n.kind,r=n.tag;return e[a].includes(r)?e:Object(b.a)({},e,Object(Q.a)({},a,e[a].concat(r)))}),Object(Q.a)($o,Object(Zc.getType)(eo),function(){return bi}),$o),bi),gi=se.fromArray([]),Oi=Object(si.a)((Jo={},Object(Q.a)(Jo,pt,function(e,t){var n=t.payload;return se.fromArray(n)}),Object(Q.a)(Jo,Object(Zc.getType)(eo),function(){return gi}),Jo),gi),yi=se.fromArray([]),vi=Object(si.a)((Qo={},Object(Q.a)(Qo,mt,function(e,t){var n=t.payload;return se.fromArray(n)}),Object(Q.a)(Qo,Object(Zc.getType)(eo),function(){return yi}),Qo),yi),Ei=Object(oi.combineReducers)({filter:Oi,recent:vi}),ji=Object(oi.combineReducers)({accounts:pi,tags:hi,transactions:Ei}),Ci=n(126),xi=n.n(Ci),ki={name:"",group:Z,balance:{},currencies:[],on_dashboard:!0,completed:!1,isModalOpen:!1,isDeleteRequest:!1,isDeleteRunning:!1,itemsToProcess:1/0,itemsProcessed:0},Si=Object(si.a)((qo={},Object(Q.a)(qo,ka,function(e,t){var n=t.payload;return Object(b.a)({},e,{group:n})}),Object(Q.a)(qo,xa,function(e,t){var n=t.payload;return Object(b.a)({},e,{name:n})}),Object(Q.a)(qo,Aa,function(e,t){var n=t.payload,a=e.currencies.includes(n);return a&&1===e.currencies.length?e:Object(b.a)({},e,{currencies:a?e.currencies.filter(function(e){return e!==n}):e.currencies.concat(n),balance:a||void 0!==e.balance[n]?e.balance:Object(b.a)({},e.balance,Object(Q.a)({},n,""))})}),Object(Q.a)(qo,Sa,function(e,t){var n=t.payload;return Object(b.a)({},e,{currencies:e.currencies.includes(n.code)?e.currencies:e.currencies.concat(n.code),balance:Object(b.a)({},e.balance,Object(Q.a)({},n.code,n.balance))})}),Object(Q.a)(qo,Ta,function(e){return Object(b.a)({},e,{on_dashboard:!e.on_dashboard})}),Object(Q.a)(qo,D,function(e,t){var n=t.payload,a=new Set([n.base].concat(Object(f.a)(n.secondary)));return Object(b.a)({},e,{currencies:e.currencies.filter(function(e){return a.has(e)}),balance:xi()(e.balance,Object(f.a)(a))})}),Object(Q.a)(qo,Ca,function(e,t){var n=t.payload;return Object(b.a)({},e,n,{isModalOpen:!0})}),Object(Q.a)(qo,ja,function(){return ki}),Object(Q.a)(qo,Object(ui.a)(hn,Cn),function(){return Object(b.a)({},ki,{completed:!0})}),Object(Q.a)(qo,Ea,function(e,t){var n=t.payload;return Object(b.a)({},e,ne(n))}),Object(Q.a)(qo,yn,function(e){return Object(b.a)({},e,{isDeleteRequest:!e.isDeleteRequest})}),Object(Q.a)(qo,vn,function(e,t){return Object(b.a)({},e,{isDeleteRunning:!0,itemsToProcess:t.payload})}),Object(Q.a)(qo,Object(ui.a)(Cn,jn),function(e){return Object(b.a)({},e,{isDeleteRunning:!1})}),Object(Q.a)(qo,En,function(e,t){return Object(b.a)({},e,{itemsProcessed:t.payload})}),qo),ki),Ai={kind:Ve,isModalOpen:!1},Ti=Object(si.a)((Zo={},Object(Q.a)(Zo,Ct,function(e,t){return t.payload}),Object(Q.a)(Zo,kt,function(e,t){var n=t.payload;return Object(b.a)({},e,n,{isModalOpen:!0})}),Object(Q.a)(Zo,St,function(e,t){var n=t.payload;return Object(b.a)({},e,{kind:n})}),Object(Q.a)(Zo,At,function(e,t){var n=t.payload;return Object(b.a)({},e,{accountId:n.accountId,currency:n.currency.includes(e.currency)?e.currency:n.currency[0]})}),Object(Q.a)(Zo,Rt,function(e,t){var n=t.payload;return Object(b.a)({},e,{linkedAccountId:n.accountId,linkedCurrency:n.currency.includes(e.linkedCurrency)?e.linkedCurrency:n.currency[0]})}),Object(Q.a)(Zo,Tt,function(e,t){var n=t.payload;return Object(b.a)({},e,{amount:n,linkedAmount:e.currency===e.linkedCurrency?n:e.linkedAmount})}),Object(Q.a)(Zo,wt,function(e,t){var n=t.payload;return Object(b.a)({},e,{amount:e.currency===e.linkedCurrency?n:e.amount,linkedAmount:n})}),Object(Q.a)(Zo,_t,function(e,t){var n=t.payload;return Object(b.a)({},e,{currency:n,linkedAmount:e.linkedCurrency===n?e.amount:e.linkedAmount})}),Object(Q.a)(Zo,Nt,function(e,t){var n=t.payload;return Object(b.a)({},e,{linkedCurrency:n,linkedAmount:e.currency===n?e.amount:e.linkedAmount})}),Object(Q.a)(Zo,Mt,function(e,t){var n=t.payload;return Object(b.a)({},e,{tags:Object(b.a)({},e.tags,Object(Q.a)({},e.kind,n))})}),Object(Q.a)(Zo,It,function(e,t){var n=t.payload;return Object(b.a)({},e,{date:n})}),Object(Q.a)(Zo,Ft,function(e,t){var n=t.payload;return Object(b.a)({},e,{note:n})}),Zo),Ai),_i=Object(oi.combineReducers)({account:Si,transaction:Ti}),Ri=Object(si.a)((Xo={},Object(Q.a)(Xo,Ya,function(e,t){var n=t.payload;return Object(b.a)({},e,{kind:n})}),Object(Q.a)(Xo,Ha,function(e,t){var n=t.payload;return Object(b.a)({},e,{timespan:n,date:_r(n)})}),Object(Q.a)(Xo,Wa,function(e,t){var n=t.payload;return Object(b.a)({},e,{accounts:n})}),Object(Q.a)(Xo,Va,function(e,t){var n=t.payload;return Object(b.a)({},e,{excludeTags:n})}),Object(Q.a)(Xo,za,function(e){return Object(b.a)({},e,{date:Rr(e.date,e.timespan),data:Object(b.a)({},e.data,{netWorthEnd:e.data.netWorthStart}),netWorthStack:[e.data.netWorthEnd].concat(Object(f.a)(e.netWorthStack))})}),Object(Q.a)(Xo,$a,function(e){return Object(b.a)({},e,{date:wr(e.date,e.timespan),data:Object(b.a)({},e.data,{netWorthEnd:e.netWorthStack[0]}),netWorthStack:e.netWorthStack.slice(1)})}),Object(Q.a)(Xo,Ja,function(e){return Object(b.a)({},e,{isLoading:!0})}),Object(Q.a)(Xo,Qa,function(e,t){var n=t.payload;return Object(b.a)({},e,{isLoading:!1,data:n})}),Object(Q.a)(Xo,qa,function(e){return Object(b.a)({},e,{isLoading:!1})}),Xo),{isLoading:!1,data:{},kind:Ar,timespan:Tr,date:_r(),accounts:[],netWorthStack:[],excludeTags:[]}),wi={dateStart:Ue(na()),dateEnd:Ue(aa()),isCalendarOpen:!1,isFilterModalOpen:!1,applied:{},isLoading:!1,totalRows:0,page:0,perPage:10},Ni=Object(si.a)((ei={},Object(Q.a)(ei,lt,function(e){return Object(b.a)({},e,{isLoading:!0})}),Object(Q.a)(ei,pt,function(e,t){var n=t.payload;return Object(b.a)({},e,{page:0,totalRows:n.length,isLoading:!1})}),Object(Q.a)(ei,ia,function(e,t){var n=t.payload;return Object(b.a)({},e,{dateStart:Ue(n.dateStart),dateEnd:Ue(n.dateEnd),isLoading:!0})}),Object(Q.a)(ei,ua,function(e,t){var n=t.payload;return Object(b.a)({},e,{page:n})}),Object(Q.a)(ei,sa,function(e){return Object(b.a)({},e,{isCalendarOpen:!e.isCalendarOpen})}),Object(Q.a)(ei,la,function(e){return Object(b.a)({},e,{isFilterModalOpen:!e.isFilterModalOpen})}),Object(Q.a)(ei,pa,function(e,t){var n=t.payload;return Object(b.a)({},e,{applied:n})}),ei),wi),Ii=Object(oi.combineReducers)({filter:Ni}),Di={isFileSelected:!1,file:void 0,error:"",isProcessing:!1,linesToProcess:1/0,linesProcessed:0},Mi=Object(si.a)((ti={},Object(Q.a)(ti,Yc,function(e,t){return Object(b.a)({},e,{isFileSelected:!0,file:t.payload})}),Object(Q.a)(ti,Hc,function(e){return Object(b.a)({},e,{isFileSelected:!1,file:void 0})}),Object(Q.a)(ti,Wc,function(e){return Object(b.a)({},e,{isProcessing:!0})}),Object(Q.a)(ti,Vc,function(e,t){return Object(b.a)({},e,{linesToProcess:t.payload})}),Object(Q.a)(ti,zc,function(e,t){return Object(b.a)({},e,{linesProcessed:t.payload})}),Object(Q.a)(ti,$c,function(e,t){return Object(b.a)({},e,{isFileSelected:!1,isProcessing:!1,file:void 0,error:t.payload.message})}),ti),Di),Fi=n(510),Li=function(){return window.matchMedia("(max-width: 768px)").matches},Pi=Object(Fi.a)(Po,Li,Li()),Ui=Object(Fi.a)(Ao,function(e){return!e},!1),Gi=Object(si.a)((ni={},Object(Q.a)(ni,Object(ui.a)(D,M),function(e){return Object(b.a)({},e,{isExchangeLoading:!0})}),Object(Q.a)(ni,Object(ui.a)(F,L),function(e){return Object(b.a)({},e,{isExchangeLoading:!1})}),ni),{isExchangeLoading:!1}),Bi=Object(si.a)((ai={},Object(Q.a)(ai,No,function(e){return Object(b.a)({},e,{isRunning:!0})}),Object(Q.a)(ai,Io,function(e){return Object(b.a)({},e,{isRunning:!1,hasPendingChanges:!1})}),Object(Q.a)(ai,Do,function(e){return{isRunning:!1}}),Object(Q.a)(ai,_o,function(e){return Object(b.a)({},e,{isWarningVisible:!1})}),Object(Q.a)(ai,Ro,function(e){return Object(b.a)({},e,{hasPendingChanges:!0})}),ai),{isRunning:!1,isWarningVisible:!0,hasPendingChanges:!1}),Ki=Object(oi.combineReducers)({form:_i,report:Ri,transaction:Ii,dataImport:Mi,settings:Gi,sync:Bi,isMobile:Pi,isSidebarOpen:Ui}),Yi={isLoaded:!1,isSetupComplete:!1,currency:{base:B.defaultBase,secondary:[]},exchangeRate:Object(Q.a)({},B.defaultBase,1),collapsedSections:[]},Hi=Object(si.a)((ri={},Object(Q.a)(ri,I,function(e,t){var n=t.payload;return Object(b.a)({},e,{isLoaded:!0},xi()(n,Object.keys(e)))}),Object(Q.a)(ri,D,function(e,t){var n=t.payload,a=n.base,r=n.secondary;return r.includes(a)&&(r=r.concat(e.currency.base).filter(function(e){return e!==a})),Object(b.a)({},e,{currency:{base:a,secondary:r}})}),Object(Q.a)(ri,F,function(e,t){var n=t.payload;return Object(b.a)({},e,{exchangeRate:n})}),Object(Q.a)(ri,P,function(e,t){var n=t.payload;return Object(b.a)({},e,{collapsedSections:e.collapsedSections.includes(n)?e.collapsedSections.filter(function(e){return e!==n}):e.collapsedSections.concat(n)})}),Object(Q.a)(ri,U,function(e){return Object(b.a)({},e,{isSetupComplete:!0})}),Object(Q.a)(ri,Object(Zc.getType)(eo),function(){return Yi}),ri),Yi),Wi=Object(Zc.createAction)("user/SET_DEMO_USER"),Vi=Object(Zc.createAction)("user/SIGN_IN_SUCCESS"),zi={email:"",code:""},$i=n(3),Ji=new(n(289).a)({domain:"money-tracker.auth0.com",clientID:"NnttWrjWNjJjbhORjkIOrUVs07wF0UfN",redirectUri:"https://app.moneytracker.cc/auth",responseType:"token"}),Qi={sendCode:function(e){return new Promise(function(t,n){Ji.passwordlessStart({connection:"email",send:"code",email:e},function(e,a){return e?n(e):t(a)})})},verifyCode:function(e,t){return new Promise(function(n,a){Ji.passwordlessLogin({connection:"email",email:e,verificationCode:t},function(e,t){return e?a(e):n(t)})})},parseHash:function(){return new Promise(function(e,t){Ji.parseHash(function(n,a){if(n)return t(n);e(a.accessToken)})})},getUserInfo:function(e){return new Promise(function(t,n){Ji.client.userInfo(e,function(a,r){if(a)return n(a);t({accessToken:e,couchDB:r.couchDB})})})}};var qi=function(e){return e.user.ui.signIn.email},Zi=function(e){return e.user.ui.signIn.code},Xi=oe.Transfer;function es(e,t){return!e&&t?ts(t):e&&!t?ns(e):e&&t?Object(f.a)(ns(e)).concat(Object(f.a)(ts(t))):[]}function ts(e){var t=[];return e.kind===Xi&&e.accountId===e.linkedAccountId&&e.currency===e.linkedCurrency?t:(t.push({accountId:e.accountId,currency:e.currency,amount:e.amount*(e.kind===Xi?-1:1)}),e.kind===Xi&&e.linkedAccountId&&e.linkedCurrency&&e.linkedAmount&&t.push({accountId:e.linkedAccountId,currency:e.linkedCurrency,amount:e.linkedAmount}),t)}function ns(e){var t=[];return t.push({accountId:e.accountId,currency:e.currency,amount:e.amount*(e.kind===Xi?1:-1)}),e.kind===Xi&&e.linkedAccountId&&e.linkedCurrency&&e.linkedAmount&&t.push({accountId:e.linkedAccountId,currency:e.linkedCurrency,amount:-1*e.linkedAmount}),t}var as={sync:function(){return rs.apply(this,arguments)},load:function(e){return vc().allDocs({include_docs:!0,start_key:"t".concat(e),end_key:"t".concat(e,"\uffff")}).then(function(e){return e.rows.map(function(e){return{tag:e.doc._id.split("/")[1],usage:e.doc.usage}})}).then(function(e){return e.sort(function(e,t){return t.usage-e.usage})}).then(function(e){return e.map(function(e){return e.tag})})},updateUsage:function(e,t,n){var a="t".concat(e,"/").concat(t);return vc().get(a).then(function(e){return vc().put(Object(b.a)({},e,{usage:parseInt(e.usage,10)+n}))}).catch(function(e){if(404!==e.status)throw e;return vc().put({_id:a,usage:1})})},destroy:function(){return Tc()}};function rs(){return(rs=Object(uc.a)(sc.a.mark(function e(){var t,n,a=arguments;return sc.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.length>0&&void 0!==a[0]&&a[0],n=!1,xc()){e.next=4;break}return e.abrupt("return",n);case 4:return e.next=6,vc().replicate.from(xc());case 6:if(e.sent.docs_written>0&&(n=!0),!t){e.next=10;break}return e.abrupt("return",n);case 10:return e.next=12,vc().replicate.to(xc());case 12:return e.abrupt("return",n);case 13:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function cs(e,t){var n=new Set,a=!0,r=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(a=(o=i.next()).done);a=!0){var s=o.value;t.has(s)||n.add(s)}}catch(u){r=!0,c=u}finally{try{a||null==i.return||i.return()}finally{if(r)throw c}}return n}var os=sc.a.mark(ls),is=sc.a.mark(ps),ss=oe.Expense,us=oe.Income;function ls(){var e,t;return sc.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object($i.b)(as.load,ss);case 2:return e=n.sent,n.next=5,Object($i.c)(vt(e));case 5:return n.next=7,Object($i.b)(as.load,us);case 7:return t=n.sent,n.next=10,Object($i.c)(Et(t));case 10:case"end":return n.stop()}},os,this)}function ps(e,t){var n,a,r,c,o,i,s,u,l,p,d,m,f,b;return sc.a.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:n=new Set(e&&e.tags||[]),a=new Set(t&&t.tags||[]),r=!0,c=!1,o=void 0,h.prev=5,i=cs(a,n)[Symbol.iterator]();case 7:if(r=(s=i.next()).done){h.next=14;break}return u=s.value,h.next=11,Object($i.b)(as.updateUsage,t.kind,u,1);case 11:r=!0,h.next=7;break;case 14:h.next=20;break;case 16:h.prev=16,h.t0=h.catch(5),c=!0,o=h.t0;case 20:h.prev=20,h.prev=21,r||null==i.return||i.return();case 23:if(h.prev=23,!c){h.next=26;break}throw o;case 26:return h.finish(23);case 27:return h.finish(20);case 28:l=!0,p=!1,d=void 0,h.prev=31,m=cs(n,a)[Symbol.iterator]();case 33:if(l=(f=m.next()).done){h.next=40;break}return b=f.value,h.next=37,Object($i.b)(as.updateUsage,e.kind,b,-1);case 37:l=!0,h.next=33;break;case 40:h.next=46;break;case 42:h.prev=42,h.t1=h.catch(31),p=!0,d=h.t1;case 46:h.prev=46,h.prev=47,l||null==m.return||m.return();case 49:if(h.prev=49,!p){h.next=52;break}throw d;case 52:return h.finish(49);case 53:return h.finish(46);case 54:case"end":return h.stop()}},is,this,[[5,16,20,28],[21,,23,27],[31,42,46,54],[47,,49,53]])}var ds=[Object($i.e)(yt,ls)],ms=sc.a.mark(ys),fs=sc.a.mark(vs),bs=sc.a.mark(Es),hs=sc.a.mark(js),gs=sc.a.mark(Cs),Os=sc.a.mark(xs);function ys(){var e;return sc.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object($i.d)(un);case 2:return e=t.sent,t.next=5,Object($i.c)(Ct(e));case 5:case"end":return t.stop()}},ms,this)}function vs(){var e,t;return sc.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object($i.d)(zt);case 2:return e=n.sent,n.next=5,Object($i.b)(wc.loadFiltered,e);case 5:return t=n.sent,n.next=8,Object($i.c)(pt(t));case 8:case"end":return n.stop()}},fs,this)}function Es(){var e;return sc.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object($i.b)(wc.loadRecent);case 2:return e=t.sent,t.next=5,Object($i.c)(mt(e));case 5:case"end":return t.stop()}},bs,this)}function js(e){var t;return sc.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object($i.b)(wc.remove,e.payload);case 2:return t=n.sent,n.next=5,Object($i.b)(xs,t);case 5:return n.next=7,Object($i.b)(ps,t);case 7:return n.next=9,Object($i.b)(Es);case 9:return n.next=11,Object($i.b)(vs);case 11:return n.next=13,Object($i.b)(ys);case 13:return n.next=15,Object($i.c)(gt());case 15:case"end":return n.stop()}},hs,this)}function Cs(e){var t,n;return sc.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,a.next=3,Object($i.b)(wc.remove,t.id);case 3:return n=a.sent,t.id="T".concat(t.date,"-").concat(Date.now()),a.next=7,Object($i.b)(wc.save,t);case 7:return a.next=9,Object($i.b)(xs,n,t);case 9:return a.next=11,Object($i.b)(ps,n,t);case 11:return a.next=13,Object($i.b)(Es);case 13:return a.next=15,Object($i.b)(vs);case 15:return a.next=17,Object($i.b)(ys);case 17:return a.next=19,Object($i.c)(bt());case 19:case"end":return a.stop()}},gs,this)}function xs(e,t){var n,a,r,c,o,i;return sc.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:n=!0,a=!1,r=void 0,s.prev=3,c=es(e,t)[Symbol.iterator]();case 5:if(n=(o=c.next()).done){s.next=12;break}return i=o.value,s.next=9,Object($i.b)(Ks,i);case 9:n=!0,s.next=5;break;case 12:s.next=18;break;case 14:s.prev=14,s.t0=s.catch(3),a=!0,r=s.t0;case 18:s.prev=18,s.prev=19,n||null==c.return||c.return();case 21:if(s.prev=21,!a){s.next=24;break}throw r;case 24:return s.finish(21);case 25:return s.finish(18);case 26:case"end":return s.stop()}},Os,this,[[3,14,18,26],[19,,21,25]])}var ks=[Object($i.e)(xt,ys),Object($i.e)(lt,vs),Object($i.e)(ia,vs),Object($i.e)(pa,vs),Object($i.e)(dt,Es),Object($i.e)(ht,js),Object($i.e)(ft,Cs)],Ss={sync:function(){return As.apply(this,arguments)},loadAll:Ts,save:function(e){return Oc().get(e.id).then(function(t){return Oc().put(Object(b.a)({},t,re(e)))}).catch(function(t){if(404!==t.status)throw t;return Oc().put(Object(b.a)({_id:e.id},re(e)))})},archive:function(e){return Oc().get(e).then(function(e){return Oc().put(Object(b.a)({},e,{archived:!0}))})},mutateBalance:function(e){var t=e.accountId,n=e.currency,a=e.amount;return Oc().get(t).then(function(e){return Oc().put(function(e,t,n){return Object(b.a)({},e,{currencies:Object(f.a)(new Set(Object(f.a)(e.currencies).concat([t]))),balance:Object(b.a)({},e.balance,Object(Q.a)({},t,parseInt("".concat(e.balance[t]||0),10)+n))})}(e,n,a))}).then(function(e){var n=e.rev;return Oc().get(t,n)}).then(function(e){return ae(e)})},remove:function(e){return Oc().get(e).then(function(e){return Oc().put(Object(b.a)({},e,{_deleted:!0}))}).catch(function(e){if(404!==e.status)throw e;return!0})},destroy:function(){return Sc()}};function As(){return(As=Object(uc.a)(sc.a.mark(function e(){var t,n=arguments;return sc.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.length>0&&void 0!==n[0]&&n[0],jc()){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,Oc().replicate.from(jc());case 5:if(!(e.sent.docs_written>0)){e.next=11;break}return e.next=9,Ts();case 9:_s(e.sent);case 11:if(!t){e.next=13;break}return e.abrupt("return");case 13:return e.next=15,Oc().replicate.to(jc());case 15:if(!(e.sent.docs_written>0)){e.next=21;break}return e.next=19,Ts();case 19:_s(e.sent);case 21:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Ts(){return Oc().allDocs({include_docs:!0,conflicts:!0,startkey:"A",endkey:"A\uffff"}).then(function(e){return Promise.all(e.rows.map(Rs))}).then(function(e){return e.map(ae)})}function _s(e){e.forEach(function(e){localStorage.setItem(e.id,JSON.stringify(e.balance))})}function Rs(e){return ws.apply(this,arguments)}function ws(){return(ws=Object(uc.a)(sc.a.mark(function e(t){var n,a;return sc.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.doc._conflicts){e.next=2;break}return e.abrupt("return",t.doc);case 2:return n=JSON.parse(localStorage.getItem(t.doc._id)),e.next=5,Promise.all(t.doc._conflicts.map(function(){var e=Object(uc.a)(sc.a.mark(function e(n){return sc.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oc().get(t.doc._id,{rev:n}).then(function(e){return e.balance}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()));case 5:return(a=e.sent).push(t.doc.balance),t.doc.balance=Ns(n,a),e.abrupt("return",Promise.all(t.doc._conflicts.map(function(){var e=Object(uc.a)(sc.a.mark(function e(n){return sc.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oc().remove(t.doc._id,n));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}())).then(function(){return Oc().put(t.doc)}).then(function(){return t.doc}));case 9:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function Ns(e,t){return Object.keys(e).reduce(function(n,a){return n[a]=e[a]+t.reduce(function(t,n){return t+(n[a]-e[a])},0),n},{})}var Is=sc.a.mark(Gs),Ds=sc.a.mark(Bs),Ms=sc.a.mark(Ks),Fs=sc.a.mark(Ys),Ls=sc.a.mark(Hs),Ps=sc.a.mark(Ws),Us=sc.a.mark(Vs);function Gs(){var e;return sc.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object($i.b)(Ss.loadAll);case 2:return e=t.sent,t.next=5,Object($i.c)(mn(e));case 5:return t.next=7,Object($i.d)(an);case 7:if(t.sent.accountId||!(e.length>0)){t.next=11;break}return t.next=11,ys();case 11:case"end":return t.stop()}},Is,this)}function Bs(e){var t;return sc.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.payload,n.prev=1,n.next=4,Object($i.b)(Ss.save,t);case 4:return n.next=6,ys();case 6:return n.next=8,Object($i.c)(hn());case 8:n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(1),n.next=14,Object($i.c)(bn(t.id));case 14:case"end":return n.stop()}},Ds,this,[[1,10]])}function Ks(e){var t;return sc.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object($i.b)(Ss.mutateBalance,e);case 2:return t=n.sent,n.next=5,Object($i.c)(gn(t));case 5:case"end":return n.stop()}},Ms,this)}function Ys(e){var t,n,a;return sc.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(t=e.payload,r.prev=1,n={},Object(Q.a)(n,o.Archive,Hs),Object(Q.a)(n,o.Cleanup,Ws),Object(Q.a)(n,o.Move,Vs),!(a=n[t.strategy])){r.next=7;break}return r.next=7,a(t.id,t.moveTo);case 7:r.next=13;break;case 9:return r.prev=9,r.t0=r.catch(1),r.next=13,Object($i.c)(jn(r.t0.message));case 13:case"end":return r.stop()}},Fs,this,[[1,9]])}function Hs(e){return sc.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object($i.b)(Ss.archive,e);case 2:return t.next=4,Object($i.c)(Cn(e));case 4:case"end":return t.stop()}},Ls,this)}function Ws(e){var t,n,a,r,c,o,i,s,u,l;return sc.a.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,Object($i.b)(wc.loadFiltered,{accounts:[e]});case 2:if(!((t=p.sent).length>0)){p.next=37;break}return p.next=6,Object($i.c)(vn(t.length));case 6:n=!0,a=!1,r=void 0,p.prev=9,c=t.entries()[Symbol.iterator]();case 11:if(n=(o=c.next()).done){p.next=23;break}return i=o.value,s=Object(J.a)(i,2),u=s[0],l=s[1],p.next=18,js(ht(l.id));case 18:return p.next=20,Object($i.c)(En(u));case 20:n=!0,p.next=11;break;case 23:p.next=29;break;case 25:p.prev=25,p.t0=p.catch(9),a=!0,r=p.t0;case 29:p.prev=29,p.prev=30,n||null==c.return||c.return();case 32:if(p.prev=32,!a){p.next=35;break}throw r;case 35:return p.finish(32);case 36:return p.finish(29);case 37:return p.next=39,Object($i.b)(Ss.remove,e);case 39:return p.next=41,Object($i.c)(Cn(e));case 41:case"end":return p.stop()}},Ps,this,[[9,25,29,37],[30,,32,36]])}function Vs(e,t){var n,a,r,c,o,i,s,u,l,p;return sc.a.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,Object($i.b)(wc.loadFiltered,{accounts:[e]});case 2:if(!((n=d.sent).length>0)){d.next=37;break}return d.next=6,Object($i.c)(vn(n.length));case 6:a=!0,r=!1,c=void 0,d.prev=9,o=n.entries()[Symbol.iterator]();case 11:if(a=(i=o.next()).done){d.next=23;break}return s=i.value,u=Object(J.a)(s,2),l=u[0],p=u[1],d.next=18,Cs(ft(Object(b.a)({},p,{accountId:p.accountId===e?t:p.accountId,linkedAccountId:p.linkedAccountId===e?t:p.linkedAccountId})));case 18:return d.next=20,Object($i.c)(En(l));case 20:a=!0,d.next=11;break;case 23:d.next=29;break;case 25:d.prev=25,d.t0=d.catch(9),r=!0,c=d.t0;case 29:d.prev=29,d.prev=30,a||null==o.return||o.return();case 32:if(d.prev=32,!r){d.next=35;break}throw c;case 35:return d.finish(32);case 36:return d.finish(29);case 37:return d.next=39,Object($i.b)(Ss.remove,e);case 39:return d.next=41,Object($i.c)(Cn(e));case 41:case"end":return d.stop()}},Us,this,[[9,25,29,37],[30,,32,36]])}var zs=[Object($i.e)(dn,Gs),Object($i.e)(fn,Bs),Object($i.e)(On,Ys),Object($i.e)(Cn,ys)],$s=sc.a.mark(Qs),Js=sc.a.mark(qs);function Qs(){var e;return sc.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object($i.c)(No());case 2:return t.prev=2,t.next=5,Object($i.d)(no);case 5:return e=t.sent,t.next=8,Object($i.b)(Ss.sync,e);case 8:return t.next=10,Object($i.b)(wc.sync,e);case 10:return t.next=12,Object($i.b)(as.sync,e);case 12:return t.next=14,Es();case 14:return t.next=16,Gs();case 16:return t.next=18,ls();case 18:return t.next=20,Object($i.c)(Io());case 20:t.next=26;break;case 22:return t.prev=22,t.t0=t.catch(2),t.next=26,Object($i.c)(Do(t.t0));case 26:case"end":return t.stop()}},$s,this,[[2,22]])}function qs(){return sc.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object($i.c)(Ro());case 2:case"end":return e.stop()}},Js,this)}var Zs=[Object($i.e)(wo,Qs),Object($i.e)(hn,qs),Object($i.e)(Cn,qs),Object($i.e)(bt,qs),Object($i.e)(gt,qs)],Xs=n(127),eu=n.n(Xs),tu=n(290),nu=n.n(tu),au=n(291),ru=n.n(au);function cu(e,t){t.includes(e)||t.push(e);var n=t.map(function(t){return"".concat(e).concat(t)});return ru()("".concat("https://wt-e9c9a7a436fcd9273a7f8890849dae65-0.sandbox.auth0-extend.com/currency-exchange","?pairs=").concat(n.join(","))).then(function(e){return e.json()}).then(function(e){return e.rates.reduce(function(e,t){return e[t.id.substring(3)]=parseFloat(t.rate),e},{})})}var ou={load:function(){return gc().get("_local/settings").then(function(e){return e},function(e){return iu}).then(function(e){return function(e){return pu.apply(this,arguments)}(e)})},save:uu,saveLocal:function(e){return gc().get("_local/settings").then(function(e){return e},function(e){return iu}).then(function(t){return gc().put(Object(b.a)({},t,e))})},destroy:function(){return kc()}},iu={_id:"_local/settings",collapsedSections:[]},su={_id:"settings",currency:{base:B.defaultBase,secondary:[]},exchangeRate:Object(Q.a)({},B.defaultBase,1)};function uu(e){return lu.apply(this,arguments)}function lu(){return(lu=Object(uc.a)(sc.a.mark(function e(t){return sc.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ec()){e.next=3;break}return e.next=3,Ec().get("settings").then(function(e){return e},function(e){return su}).then(function(e){return Ec().put(Object(b.a)({},e,t))}).catch(function(e){if(403!==e.status)throw e});case 3:return e.abrupt("return",gc().get("settings").then(function(e){return e},function(e){return su}).then(function(e){return gc().put(Object(b.a)({},e,t))}));case 4:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function pu(){return(pu=Object(uc.a)(sc.a.mark(function e(t){return sc.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",gc().get("settings").then(function(e){return e},function(e){return su}).then(function(e){return du(e)}).then(function(e){return Object(b.a)({},e,t)}));case 1:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function du(e){return mu.apply(this,arguments)}function mu(){return(mu=Object(uc.a)(sc.a.mark(function e(t){var n,a,r,c;return sc.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Ec()){e.next=2;break}return e.abrupt("return",t);case 2:return e.prev=2,e.next=5,Ec().get("settings");case 5:if(n=e.sent,a=n.currency.base,r=eu()(t.currency.base,t.currency.secondary,n.currency.secondary).filter(function(e){return e!==a}),e.t0={base:a,secondary:r},t.currency.base!==a){e.next=13;break}e.t1=Object(b.a)({},t.exchangeRate,n.exchangeRate),e.next=16;break;case 13:return e.next=15,cu(a,r);case 15:e.t1=e.sent;case 16:if(e.t2=e.t1,e.t3=n.isSetupComplete,c={currency:e.t0,exchangeRate:e.t2,isSetupComplete:e.t3},nu()(xi()(t,Object.keys(c)),c)){e.next=22;break}return e.next=22,uu(c);case 22:return e.abrupt("return",c);case 25:return e.prev=25,e.t4=e.catch(2),e.abrupt("return",t);case 28:case"end":return e.stop()}},e,this,[[2,25]])}))).apply(this,arguments)}var fu=sc.a.mark(Ou),bu=sc.a.mark(yu),hu=sc.a.mark(vu),gu=sc.a.mark(Eu);function Ou(){var e;return sc.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object($i.b)(ou.load);case 2:return e=t.sent,t.next=5,Object($i.c)(I(e));case 5:case"end":return t.stop()}},fu,this)}function yu(){var e,t,n,a;return sc.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object($i.d)(Y);case 2:return e=r.sent,r.next=5,Object($i.d)(W);case 5:return t=r.sent,r.next=8,Object($i.d)(ge);case 8:return n=r.sent,r.prev=9,r.next=12,Object($i.b)(cu,e,eu()(t,n));case 12:return a=r.sent,r.next=15,Object($i.c)(F(a));case 15:return r.next=17,Object($i.b)(ou.save,{currency:{base:e,secondary:t},exchangeRate:a});case 17:r.next=23;break;case 19:return r.prev=19,r.t0=r.catch(9),r.next=23,Object($i.c)(L(r.t0));case 23:case"end":return r.stop()}},bu,this,[[9,19]])}function vu(){return sc.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object($i.b)(ou.save,{isSetupComplete:!0});case 2:case"end":return e.stop()}},hu,this)}function Eu(){var e;return sc.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object($i.d)(V);case 2:return e=t.sent,t.next=5,Object($i.b)(ou.saveLocal,{collapsedSections:e});case 5:case"end":return t.stop()}},gu,this)}var ju=[Object($i.e)(D,yu),Object($i.e)(M,yu),Object($i.e)(U,vu),Object($i.e)(P,Eu)],Cu=sc.a.mark(ku),xu=sc.a.mark(Su);function ku(){return sc.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("demo.moneytracker.cc"!==window.location.hostname){e.next=13;break}return e.next=3,Object($i.b)([localStorage,"getItem"],"userInfo");case 3:if(e.sent){e.next=9;break}return e.next=7,Object($i.b)([localStorage,"setItem"],"userInfo",JSON.stringify({couchDB:{accounts:"https://couch.moneytracker.cc/accounts_2b4d1cad-7dcd-42e6-b8fc-e29206a8f889",settings:"https://couch.moneytracker.cc/settings_2b4d1cad-7dcd-42e6-b8fc-e29206a8f889",tags:"https://couch.moneytracker.cc/tags_2b4d1cad-7dcd-42e6-b8fc-e29206a8f889",transactions:"https://couch.moneytracker.cc/transactions_2b4d1cad-7dcd-42e6-b8fc-e29206a8f889"}}));case 7:return e.next=9,Qs();case 9:return e.next=11,Object($i.c)(Wi());case 11:return e.next=13,Object($i.c)(Vi());case 13:case"end":return e.stop()}},Cu,this)}function Su(){return sc.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object($i.b)([localStorage,"getItem"],"userInfo");case 2:if(!e.sent){e.next=6;break}return e.next=6,Object($i.c)(Vi());case 6:case"end":return e.stop()}},xu,this)}var Au=sc.a.mark(Ru),Tu=sc.a.mark(wu),_u=sc.a.mark(Nu);function Ru(){var e;return sc.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object($i.d)(qi);case 2:return e=t.sent,t.prev=3,t.next=6,Object($i.b)(Qi.sendCode,e);case 6:return t.next=8,Object($i.c)(po());case 8:t.next=14;break;case 10:return t.prev=10,t.t0=t.catch(3),t.next=14,Object($i.c)(mo(t.t0));case 14:case"end":return t.stop()}},Au,this,[[3,10]])}function wu(){var e,t;return sc.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object($i.d)(qi);case 2:return e=n.sent,n.next=5,Object($i.d)(Zi);case 5:return t=n.sent,n.prev=6,n.next=9,Object($i.b)(Qi.verifyCode,e,t);case 9:return n.next=11,Object($i.c)(bo());case 11:n.next=17;break;case 13:return n.prev=13,n.t0=n.catch(6),n.next=17,Object($i.c)(ho(n.t0));case 17:case"end":return n.stop()}},Tu,this,[[6,13]])}function Nu(){var e,t;return sc.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object($i.b)(Qi.parseHash);case 2:return e=n.sent,n.next=5,Object($i.b)(Qi.getUserInfo,e);case 5:return t=n.sent,n.next=8,Object($i.b)([localStorage,"setItem"],"userInfo",JSON.stringify(t));case 8:return n.next=10,Ou();case 10:return n.next=12,Qs();case 12:return n.next=14,Su();case 14:case"end":return n.stop()}},_u,this)}var Iu=[Object($i.e)(Object(Zc.getType)(lo),Ru),Object($i.e)(Object(Zc.getType)(fo),wu),Object($i.e)(Object(Zc.getType)(go),Nu)],Du=sc.a.mark(Mu);function Mu(){return sc.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object($i.b)(Ss.destroy);case 3:return e.next=5,Object($i.b)(ou.destroy);case 5:return e.next=7,Object($i.b)(as.destroy);case 7:return e.next=9,Object($i.b)(wc.destroy);case 9:return e.next=11,Object($i.b)([localStorage,"clear"]);case 11:return e.next=13,Object($i.c)(eo());case 13:return e.next=15,ku();case 15:return e.next=17,Ou();case 17:e.next=23;break;case 19:return e.prev=19,e.t0=e.catch(0),e.next=23,Object($i.c)(to(e.t0));case 23:case"end":return e.stop()}},Du,this,[[0,19]])}var Fu=[Object($i.e)(Object(Zc.getType)(Xc),Mu)],Lu=Object(oi.combineReducers)({signIn:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zi,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Object(Zc.getType)(so):return Object(b.a)({},e,{email:t.payload});case Object(Zc.getType)(uo):return Object(b.a)({},e,{code:t.payload});case Object(Zc.getType)(lo):return Object(b.a)({},e,{sendCodeStatus:"REQUEST"});case Object(Zc.getType)(po):return Object(b.a)({},e,{sendCodeStatus:"SUCCESS"});case Object(Zc.getType)(mo):return Object(b.a)({},e,{sendCodeStatus:"FAILURE",error:t.payload.message});case Object(Zc.getType)(fo):return Object(b.a)({},e,{verifyCodeStatus:"REQUEST"});case Object(Zc.getType)(bo):return Object(b.a)({},e,{verifyCodeStatus:"SUCCESS"});case Object(Zc.getType)(ho):return Object(b.a)({},e,{verifyCodeStatus:"FAILURE",error:t.payload.message});default:return e}},signOut:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch((arguments.length>1?arguments[1]:void 0).type){case Object(Zc.getType)(Xc):return Object(b.a)({},e,{signOutState:"REQUEST"});case Object(Zc.getType)(eo):return Object(b.a)({},e,{signOutState:"SUCCESS"});case Object(Zc.getType)(to):return Object(b.a)({},e,{signOutState:"FAILURE"});default:return e}}}),Pu=Object(f.a)(Iu).concat(Object(f.a)(Fu)),Uu=Object(oi.combineReducers)({isDemoUser:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(arguments.length>1?arguments[1]:void 0).type===Object(Zc.getType)(Wi)||e},isSignedIn:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(arguments.length>1?arguments[1]:void 0).type===Object(Zc.getType)(Vi)||e},ui:Lu}),Gu=Object(oi.combineReducers)({settings:Hi,entities:ji,user:Uu,ui:Ki}),Bu=sc.a.mark(Ku);function Ku(){return sc.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ku();case 2:return e.next=4,Su();case 4:return e.next=6,Ou();case 6:return e.next=8,Qs();case 8:case"end":return e.stop()}},Bu,this)}var Yu=[Object($i.e)(Uo,Ku)],Hu=oe.Expense,Wu=oe.Transfer,Vu=oe.Income,zu=function(e){return new Promise(function(t,n){var a=new FileReader;a.onerror=n,a.onload=function(e){try{t(function(e){if(e[0].split($u).length!==Object.keys(Ju).length)throw new Error("Invalid file format!\n    Must be a CSV with following columns:\n    date;account;tags;amount;currency;description;transfer");for(var t=1;t<e.length;t++){var n=e[t].split($u);if(n.length===Object.keys(Ju).length){var a={kind:el(n),account:tl(n),amount:Math.abs(Xu(n)),currency:n[Ju.CURRENCY],date:nl(n),tags:al(n),note:n[Ju.NOTE]};if(a.kind===Wu){var r=e[++t].split($u);a.linkedAccount=tl(r),a.linkedAmount=Xu(r),a.linkedCurrency=r[Ju.CURRENCY]}Qu.push(a)}}return{transactions:Qu,accounts:qu,currencies:Zu}}(e.target.result.split("\n")))}catch(a){n(a)}},a.readAsText(e)})},$u=";",Ju={DATE:0,ACCOUNT:1,TAGS:2,AMOUNT:3,CURRENCY:4,NOTE:5,TRANSFER:6},Qu=[],qu=new Map,Zu=new Set;function Xu(e){return parseFloat(e[Ju.AMOUNT].replace(",","."))}function el(e){return e[Ju.TRANSFER].trim()?Wu:Xu(e)<0?Hu:Vu}function tl(e){var t=e[Ju.ACCOUNT],n=e[Ju.CURRENCY];qu.has(t)||qu.set(t,new Set);var a=qu.get(t);return a.has(n)||a.add(n),Zu.has(n)||Zu.add(n),t}function nl(e){return e[Ju.DATE].split(".").reverse().join("-")}function al(e){return e[Ju.TAGS].trim()&&Object(Q.a)({},el(e),e[Ju.TAGS].replace("\\","/").split("/"))}var rl=sc.a.mark(sl),cl=sc.a.mark(ul),ol=sc.a.mark(ll),il=sc.a.mark(pl);function sl(){var e,t,n,a,r,c,o,i,s,u,l,p,d,m,f;return sc.a.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.prev=0,h.next=3,Object($i.d)(Jc);case 3:return e=h.sent,h.next=6,Object($i.b)(zu,e);case 6:return t=h.sent,n=t.transactions,a=t.accounts,r=t.currencies,h.next=12,Object($i.c)(Vc(n.length-1));case 12:return h.next=14,ul(r);case 14:return h.next=16,ll(a);case 16:c=h.sent,o=!0,i=!1,s=void 0,h.prev=20,u=n.entries()[Symbol.iterator]();case 22:if(o=(l=u.next()).done){h.next=34;break}return p=l.value,d=Object(J.a)(p,2),m=d[0],f=d[1],h.next=29,Cs(ft(Je(Object(b.a)({},f,{accountId:c.get(f.account),linkedAccountId:c.get(f.linkedAccount)}))));case 29:return h.next=31,Object($i.c)(zc(m));case 31:o=!0,h.next=22;break;case 34:h.next=40;break;case 36:h.prev=36,h.t0=h.catch(20),i=!0,s=h.t0;case 40:h.prev=40,h.prev=41,o||null==u.return||u.return();case 43:if(h.prev=43,!i){h.next=46;break}throw s;case 46:return h.finish(43);case 47:return h.finish(40);case 48:h.next=54;break;case 50:return h.prev=50,h.t1=h.catch(0),h.next=54,Object($i.c)($c(h.t1));case 54:case"end":return h.stop()}},rl,this,[[0,50],[20,36,40,48],[41,,43,47]])}function ul(e){var t,n;return sc.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object($i.d)(Y);case 2:return t=a.sent,a.next=5,Object($i.d)(W);case 5:return n=a.sent,a.next=8,Object($i.c)(D({base:t,secondary:eu()(n,Object(f.a)(e))}));case 8:case"end":return a.stop()}},cl,this)}function ll(e){var t,n,a,r,c,o,i,s,u,l,p;return sc.a.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:t=new Map,n=!0,a=!1,r=void 0,d.prev=4,c=e.entries()[Symbol.iterator]();case 6:if(n=(o=c.next()).done){d.next=22;break}return i=o.value,s=Object(J.a)(i,2),u=s[0],l=s[1],d.next=13,Object($i.d)(pe(u));case 13:if(p=d.sent){d.next=18;break}return d.next=17,pl(u,Object(f.a)(l));case 17:p=d.sent;case 18:t.set(u,p.id);case 19:n=!0,d.next=6;break;case 22:d.next=28;break;case 24:d.prev=24,d.t0=d.catch(4),a=!0,r=d.t0;case 28:d.prev=28,d.prev=29,n||null==c.return||c.return();case 31:if(d.prev=31,!a){d.next=34;break}throw r;case 34:return d.finish(31);case 35:return d.finish(28);case 36:return d.abrupt("return",t);case 37:case"end":return d.stop()}},ol,this,[[4,24,28,36],[29,,31,35]])}function pl(e,t){var n;return sc.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n=te({name:e,group:Z,balance:t.reduce(function(e,t){return e[t]=0,e},{}),currencies:t,on_dashboard:!1}),a.next=3,Bs(fn(n));case 3:return a.abrupt("return",n);case 4:case"end":return a.stop()}},il,this)}var dl=[Object($i.e)(Wc,sl)],ml=sc.a.mark(bl),fl=sc.a.mark(hl);function bl(){var e,t,n,a,r,c;return sc.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Object($i.d)($r);case 2:return e=o.sent,o.next=5,Object($i.d)(Y);case 5:return t=o.sent,o.next=8,Object($i.d)(K);case 8:if(n=o.sent,o.t0=e.data.netWorthEnd,o.t0){o.next=14;break}return o.next=13,Object($i.d)(je);case 13:o.t0=o.sent;case 14:return a=o.t0,o.prev=15,o.next=18,Object($i.b)(wc.loadFiltered,{date:(i=e).date,accounts:i.accounts});case 18:return r=o.sent,o.next=21,Object($i.b)(Ir,e,r,n,t,a);case 21:return c=o.sent,o.next=24,Object($i.c)(Qa(c));case 24:o.next=30;break;case 26:return o.prev=26,o.t1=o.catch(15),o.next=30,Object($i.c)(qa(o.t1.message));case 30:case"end":return o.stop()}var i},ml,this,[[15,26]])}function hl(){return sc.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object($i.c)(Ja());case 2:case"end":return e.stop()}},fl,this)}var gl=[Object($i.e)(Ja,bl),Object($i.e)(Ya,hl),Object($i.e)(Ha,hl),Object($i.e)(Wa,hl),Object($i.e)(Va,hl),Object($i.e)(za,hl),Object($i.e)($a,hl)],Ol=Object(f.a)(Pu),yl=sc.a.mark(vl);function vl(){return sc.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object($i.a)(Object(f.a)(Ol).concat(Object(f.a)(zs),Object(f.a)(Yu),Object(f.a)(dl),Object(f.a)(gl),Object(f.a)(ju),Object(f.a)(Zs),Object(f.a)(ds),Object(f.a)(ks)));case 2:case"end":return e.stop()}},yl,this)}var El=Object(ci.a)();var jl=n(198),Cl=n(292),xl=n.n(Cl),kl=function(e){return function(){return function(t){return function(n){var a=Object.assign({},n,{from:"REDUX",timestamp:xl()().format()});e.trackEvent(a),t(n)}}}},Sl=n(293),Al=n.n(Sl),Tl=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};arguments.length>1&&arguments[1];try{JSON.stringify(t,null,2),e=t}catch(a){e={type:t.type?t.type:null}}if(null!==e.type&&!_l.includes(e.type)){console.log("logging event: \n"+JSON.stringify(e,null,2));var n=JSON.parse(localStorage.getItem("events"));null===n&&(n=[]),n.push(e),localStorage.setItem("events",JSON.stringify(n))}return t},_l=["DISMISS_SYNC_WARNING","SET_PENDING_CHANGES_FLAG","SYNC","SYNC_REQUEST","SYNC_SUCCESS","SYNC_FAILURE","SAVE_EXPORT_FILE","OPEN_IMPORT_FILE","DISCARD_IMPORT_FILE","START_DATA_IMPORT","IMPORT_FILE_READ_SUCCESS","IMPORT_LINE_PROCESSED","IMPORT_FAILURE","CHANGE_CURRENCY","CHANGE_LINKED_ACCOUNT","CHANGE_LINKED_AMOUNT","CHANGE_LINKED_CURRENCY","CHANGE_FILTER_DATE","TOGGLE_FILTER_CALENDAR","CHANGE_FILTER_PAGE","TOGGLE_FILTER_MODAL","APPLY_FILTERS","BOOTSTRAP","LOAD_SETTINGS_SUCCESS","LOAD_ACCOUNTS","LOAD_ACCOUNTS_SUCCESS","LOAD_TAGS","LOAD_EXPENSE_TAGS_SUCCESS","LOAD_INCOME_TAGS_SUCCESS","LOAD_FILTER_TRANSACTIONS","LOAD_FILTER_TRANSACTIONS_SUCCESS","LOAD_RECENT_TRANSACTIONS","LOAD_RECENT_TRANSACTIONS_SUCCESS","LOAD_REPORT","LOAD_REPORT_SUCCESS","LOAD_REPORT_FAILURE","RESET_ACCOUNT_FORM","RESET_TRANSACTION_FORM","FILL_IN_ACCOUNT_FORM","FILL_IN_TRANSACTION_FORM","WINDOW_RESIZE","UPDATE_EXCHANGE_RATE_SUCCESS","UPDATE_EXCHANGE_RATE_FAILURE","SAVE_ACCOUNT_SUCCESS","SAVE_ACCOUNT_FAILURE","REMOVE_ACCOUNT_SUCCESS","REMOVE_ACCOUNT_FAILURE","SAVE_TRANSACTION_SUCCESS","REMOVE_TRANSACTION_SUCCESS","SHOW_ERROR","UPDATE_ACCOUNT","REMOVE_ACCOUNT_REQUEST","REMOVE_ACCOUNT_START","REMOVE_ACCOUNT_ITEM_PROCESSED"],Rl=Object(f.a)(Al()(a)),wl=new jl.Tracker(Rl);d.init({dsn:"https://5ae855d4c1d840c1b06679123069574f@sentry.io/1335198"});var Nl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=Object(oi.createStore)(Gu,e,Object(ii.composeWithDevTools)(Object(oi.applyMiddleware)(El),Object(oi.applyMiddleware)(t)));return El.run(vl),n}({},kl(wl)),Il=Object(i.a)();p.a.render(u.a.createElement(jl.TrackerProvider,{tracker:wl},u.a.createElement(Yo,{store:Nl,history:Il})),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("","/service-worker.js");Ho?function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):Wo(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e):Wo(e)})}}()}},[[307,2,1]]]);
//# sourceMappingURL=main.a3144ddc.chunk.js.map