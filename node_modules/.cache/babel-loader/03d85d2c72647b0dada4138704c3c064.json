{"ast":null,"code":"import _toConsumableArray from \"/Users/amipatel/Desktop/CMU/Research-F23/money-tracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/Users/amipatel/Desktop/CMU/Research-F23/money-tracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/amipatel/Desktop/CMU/Research-F23/money-tracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/amipatel/Desktop/CMU/Research-F23/money-tracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/amipatel/Desktop/CMU/Research-F23/money-tracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/amipatel/Desktop/CMU/Research-F23/money-tracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/amipatel/Desktop/CMU/Research-F23/money-tracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/amipatel/Desktop/CMU/Research-F23/money-tracker/src/containers/App.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Router, Route, Switch, Redirect } from 'react-router-dom';\nimport { Dimmer, Loader } from 'semantic-ui-react';\nimport { connect } from 'react-redux';\nimport routes from '../router/routes';\nimport SignIn from 'features/user/containers/SignIn';\nimport InitialSetup from './InitialSetup';\nimport SidebarMenu from './SidebarMenu';\nimport Header from '../components/Header';\nimport DemoNotice from './DemoNotice';\nimport { windowResize } from '../actions/ui/windowResize';\nimport { toggleSidebar } from '../actions/ui/sidebar';\nimport { bootstrap } from '../actions/app';\n\nvar App =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(App, _React$Component);\n\n  function App() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(App)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.renderNavigationRoutes = function () {\n      if (window.location.pathname.endsWith('index.html')) {\n        return React.createElement(Redirect, {\n          to: \"/\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72\n          },\n          __self: this\n        });\n      }\n\n      var _this$props = _this.props,\n          isSidebarOpen = _this$props.isSidebarOpen,\n          isMobile = _this$props.isMobile,\n          toggleSidebar = _this$props.toggleSidebar;\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(Dimmer, {\n        page: true,\n        active: isMobile && isSidebarOpen,\n        onClick: toggleSidebar,\n        style: {\n          zIndex: 100\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }), React.createElement(SidebarMenu, {\n        isOpen: !isMobile || isSidebarOpen,\n        toggleSidebar: toggleSidebar,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }), flatten(routes).map(function (route) {\n        return React.createElement(Route, {\n          key: route.path,\n          path: route.path,\n          exact: route.exact,\n          render: function render(props) {\n            return React.createElement(React.Fragment, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 93\n              },\n              __self: this\n            }, React.createElement(Header, {\n              label: route.label,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 94\n              },\n              __self: this\n            }), React.createElement(\"div\", {\n              className: \"container\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 95\n              },\n              __self: this\n            }, React.createElement(DemoNotice, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 96\n              },\n              __self: this\n            }), React.createElement(route.component, Object.assign({}, props, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 97\n              },\n              __self: this\n            }))));\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88\n          },\n          __self: this\n        });\n      }));\n    };\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var script = document.createElement('script');\n      script.src = 'https://usability-session-vfqp.onrender.com/static/plugin/instrumentation.js';\n      script.addEventListener('load', function () {\n        localStorage.setItem('scenarioId', '654ebc4332fb98f9b81cc252');\n        setTimeout(function () {\n          window.instrumentation.start({\n            serverUrl: 'usability-session-vfqp.onrender.com',\n            scenarioId: '654ebc4332fb98f9b81cc252'\n          });\n        }, 3000);\n      });\n      document.head.appendChild(script);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (!this.props.isLoaded) {\n        return React.createElement(Loader, {\n          active: true,\n          content: this.props.isSyncRunning && 'Synchronizing data, this might take a moment...',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 39\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(Router, {\n        history: this.props.history,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, React.createElement(Switch, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(Route, {\n        path: \"/auth\",\n        exact: true,\n        component: SignIn,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }), !this.props.isSetupComplete ? React.createElement(Route, {\n        component: InitialSetup,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }) : React.createElement(Route, {\n        render: this.renderNavigationRoutes,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }))));\n    }\n    /**\n     * Navigation routes are the pages associated to navigation menu items,\n     * e.g. Dashboard, Transactions, Settings etc.\n     * They are rendered with common structure: sidebar menu and sticky header.\n     */\n\n  }]);\n\n  return App;\n}(React.Component);\n\nfunction flatten(routes) {\n  var flatRoutes = [];\n  routes.forEach(function (route) {\n    if (route.routes) {\n      flatRoutes.push(_objectSpread({}, route, {\n        exact: true\n      }));\n      flatRoutes.push.apply(flatRoutes, _toConsumableArray(flatten(route.routes)));\n    } else {\n      flatRoutes.push(route);\n    }\n  });\n  return flatRoutes;\n}\n\nApp.propTypes = {\n  history: PropTypes.object.isRequired,\n  isLoaded: PropTypes.bool,\n  isSyncRunning: PropTypes.bool,\n  isSetupComplete: PropTypes.bool,\n  isMobile: PropTypes.bool,\n  isSidebarOpen: PropTypes.bool,\n  bootstrap: PropTypes.func,\n  windowResize: PropTypes.func,\n  toggleSidebar: PropTypes.func\n};\n\nvar mapStateToProps = function mapStateToProps(state, ownProps) {\n  return {\n    history: ownProps.history,\n    isLoaded: state.settings.isLoaded,\n    isSyncRunning: state.ui.sync.isRunning,\n    isSetupComplete: state.settings.isSetupComplete,\n    isMobile: state.ui.isMobile,\n    isSidebarOpen: state.ui.isSidebarOpen\n  };\n};\n\nexport default connect(mapStateToProps, {\n  bootstrap: bootstrap,\n  windowResize: windowResize,\n  toggleSidebar: toggleSidebar\n})(App);","map":{"version":3,"sources":["/Users/amipatel/Desktop/CMU/Research-F23/money-tracker/src/containers/App.js"],"names":["React","PropTypes","Router","Route","Switch","Redirect","Dimmer","Loader","connect","routes","SignIn","InitialSetup","SidebarMenu","Header","DemoNotice","windowResize","toggleSidebar","bootstrap","App","renderNavigationRoutes","window","location","pathname","endsWith","props","isSidebarOpen","isMobile","zIndex","flatten","map","route","path","exact","label","script","document","createElement","src","addEventListener","localStorage","setItem","setTimeout","instrumentation","start","serverUrl","scenarioId","head","appendChild","isLoaded","isSyncRunning","history","isSetupComplete","Component","flatRoutes","forEach","push","propTypes","object","isRequired","bool","func","mapStateToProps","state","ownProps","settings","ui","sync","isRunning"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Router, Route, Switch, Redirect } from 'react-router-dom';\nimport { Dimmer, Loader } from 'semantic-ui-react';\nimport { connect } from 'react-redux';\nimport routes from '../router/routes';\nimport SignIn from 'features/user/containers/SignIn';\nimport InitialSetup from './InitialSetup';\nimport SidebarMenu from './SidebarMenu';\nimport Header from '../components/Header';\nimport DemoNotice from './DemoNotice';\nimport { windowResize } from '../actions/ui/windowResize';\nimport { toggleSidebar } from '../actions/ui/sidebar';\nimport { bootstrap } from '../actions/app';\n\nclass App extends React.Component {\n  componentDidMount() {\n    const script = document.createElement('script');\n    script.src =\n      'https://usability-session-vfqp.onrender.com/static/plugin/instrumentation.js';\n\n    script.addEventListener('load', () => {\n      localStorage.setItem('scenarioId', '654ebc4332fb98f9b81cc252');\n\n      setTimeout(() => {\n        window.instrumentation.start({\n          serverUrl: 'usability-session-vfqp.onrender.com',\n          scenarioId: '654ebc4332fb98f9b81cc252'\n        });\n      }, 3000);\n    });\n\n    document.head.appendChild(script);\n  }\n\n  render() {\n    if (!this.props.isLoaded) {\n      return (\n        <Loader\n          active\n          content={\n            this.props.isSyncRunning &&\n            'Synchronizing data, this might take a moment...'\n          }\n        />\n      );\n    }\n\n    return (\n      <div>\n        <Router history={this.props.history}>\n          <Switch>\n            <Route path=\"/auth\" exact={true} component={SignIn} />\n            {!this.props.isSetupComplete ? (\n              <Route component={InitialSetup} />\n            ) : (\n              <Route render={this.renderNavigationRoutes} />\n            )}\n          </Switch>\n        </Router>\n      </div>\n    );\n  }\n\n  /**\n   * Navigation routes are the pages associated to navigation menu items,\n   * e.g. Dashboard, Transactions, Settings etc.\n   * They are rendered with common structure: sidebar menu and sticky header.\n   */\n  renderNavigationRoutes = () => {\n    if (window.location.pathname.endsWith('index.html')) {\n      return <Redirect to=\"/\" />;\n    }\n    const { isSidebarOpen, isMobile, toggleSidebar } = this.props;\n    return (\n      <React.Fragment>\n        <Dimmer\n          page\n          active={isMobile && isSidebarOpen}\n          onClick={toggleSidebar}\n          style={{ zIndex: 100 }}\n        />\n        <SidebarMenu\n          isOpen={!isMobile || isSidebarOpen}\n          toggleSidebar={toggleSidebar}\n        />\n        {flatten(routes).map(route => (\n          <Route\n            key={route.path}\n            path={route.path}\n            exact={route.exact}\n            render={props => (\n              <React.Fragment>\n                <Header label={route.label} />\n                <div className=\"container\">\n                  <DemoNotice />\n                  <route.component {...props} />\n                </div>\n              </React.Fragment>\n            )}\n          />\n        ))}\n      </React.Fragment>\n    );\n  };\n}\n\nfunction flatten(routes) {\n  let flatRoutes = [];\n  routes.forEach(route => {\n    if (route.routes) {\n      flatRoutes.push({ ...route, exact: true });\n      flatRoutes.push(...flatten(route.routes));\n    } else {\n      flatRoutes.push(route);\n    }\n  });\n\n  return flatRoutes;\n}\n\nApp.propTypes = {\n  history: PropTypes.object.isRequired,\n  isLoaded: PropTypes.bool,\n  isSyncRunning: PropTypes.bool,\n  isSetupComplete: PropTypes.bool,\n  isMobile: PropTypes.bool,\n  isSidebarOpen: PropTypes.bool,\n  bootstrap: PropTypes.func,\n  windowResize: PropTypes.func,\n  toggleSidebar: PropTypes.func\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n  history: ownProps.history,\n  isLoaded: state.settings.isLoaded,\n  isSyncRunning: state.ui.sync.isRunning,\n  isSetupComplete: state.settings.isSetupComplete,\n  isMobile: state.ui.isMobile,\n  isSidebarOpen: state.ui.isSidebarOpen\n});\n\nexport default connect(\n  mapStateToProps,\n  {\n    bootstrap,\n    windowResize,\n    toggleSidebar\n  }\n)(App);\n"]},"metadata":{},"sourceType":"module"}