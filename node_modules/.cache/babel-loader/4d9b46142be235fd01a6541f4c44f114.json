{"ast":null,"code":"import _toConsumableArray from \"/Users/amipatel/Desktop/CMU/Research-F23/money-tracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/Users/amipatel/Desktop/CMU/Research-F23/money-tracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/amipatel/Desktop/CMU/Research-F23/money-tracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/amipatel/Desktop/CMU/Research-F23/money-tracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/amipatel/Desktop/CMU/Research-F23/money-tracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/amipatel/Desktop/CMU/Research-F23/money-tracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/amipatel/Desktop/CMU/Research-F23/money-tracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/amipatel/Desktop/CMU/Research-F23/money-tracker/src/containers/App.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Router, Route, Switch, Redirect } from 'react-router-dom';\nimport { Dimmer, Loader } from 'semantic-ui-react';\nimport { connect } from 'react-redux';\nimport throttle from 'lodash/throttle';\nimport routes from '../router/routes';\nimport SignIn from 'features/user/containers/SignIn';\nimport InitialSetup from './InitialSetup';\nimport SidebarMenu from './SidebarMenu';\nimport Header from '../components/Header';\nimport DemoNotice from './DemoNotice';\nimport { windowResize } from '../actions/ui/windowResize';\nimport { toggleSidebar } from '../actions/ui/sidebar';\nimport { bootstrap } from '../actions/app';\nimport TestMenu from '../components/TestMenu';\nimport TaskHelpFooter from '../components/TaskHelpFooter';\nimport ParticipantSurvey from './ParticipantSurvey';\nimport { browserAlertTracking } from '../tracking/wrapper/alert';\n\nvar App =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(App, _React$Component);\n\n  function App() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(App)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.renderNavigationRoutes = function () {\n      if (window.location.pathname.endsWith('index.html')) {\n        return React.createElement(Redirect, {\n          to: \"/\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81\n          },\n          __self: this\n        });\n      }\n\n      var _this$props = _this.props,\n          isSidebarOpen = _this$props.isSidebarOpen,\n          isMobile = _this$props.isMobile,\n          toggleSidebar = _this$props.toggleSidebar;\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(Dimmer, {\n        page: true,\n        active: isMobile && isSidebarOpen,\n        onClick: toggleSidebar,\n        style: {\n          zIndex: 100\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }), React.createElement(SidebarMenu, {\n        isOpen: !isMobile || isSidebarOpen,\n        toggleSidebar: toggleSidebar,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }), flatten(routes).map(function (route) {\n        return React.createElement(Route, {\n          key: route.path,\n          path: route.path,\n          exact: route.exact,\n          render: function render(props) {\n            return React.createElement(React.Fragment, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 102\n              },\n              __self: this\n            }, React.createElement(Header, {\n              label: route.label,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 103\n              },\n              __self: this\n            }), React.createElement(\"div\", {\n              className: \"container\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 104\n              },\n              __self: this\n            }, React.createElement(DemoNotice, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 105\n              },\n              __self: this\n            }), React.createElement(route.component, Object.assign({}, props, {\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 106\n              },\n              __self: this\n            }))));\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 97\n          },\n          __self: this\n        });\n      }));\n    };\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      window.addEventListener('resize', throttle(this.props.windowResize, 500));\n      this.props.bootstrap();\n      var script = document.createElement('script');\n      script.src = 'https://usability-session.onrender.com/static/plugin/instrumentation.js';\n      script.addEventListener('load', function () {\n        localStorage.setItem('scenarioId', '6455873c93620f7be7a1cd4b');\n        setTimeout(function () {\n          window.instrumentation.start({\n            serverUrl: 'usability-session.onrender.com',\n            scenarioId: '6455873c93620f7be7a1cd4b'\n          });\n        }, 3000);\n      });\n      document.head.appendChild(script);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (!this.props.isLoaded) {\n        return React.createElement(Loader, {\n          active: true,\n          content: this.props.isSyncRunning && 'Synchronizing data, this might take a moment...',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 46\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, React.createElement(Router, {\n        history: this.props.history,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(Switch, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(Route, {\n        path: \"/auth\",\n        exact: true,\n        component: SignIn,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }), !this.props.isSetupComplete ? React.createElement(Route, {\n        component: InitialSetup,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }) : React.createElement(Route, {\n        render: this.renderNavigationRoutes,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }))), React.createElement(TaskHelpFooter, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }), React.createElement(TestMenu, {\n        onClick: onTestMenuClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }));\n    }\n    /**\n     * Navigation routes are the pages associated to navigation menu items,\n     * e.g. Dashboard, Transactions, Settings etc.\n     * They are rendered with common structure: sidebar menu and sticky header.\n     */\n\n  }]);\n\n  return App;\n}(React.Component);\n\nfunction onTestMenuClick() {\n  browserAlertTracking();\n\n  if (window.confirm('Are you sure you want to finish this task?')) {\n    // setIsVisible(true);\n    localStorage.setItem('taskComplete', true);\n    localStorage.setItem('taskInProgress', true);\n    window.location.href = '/';\n  }\n}\n\nfunction flatten(routes) {\n  var flatRoutes = [];\n  routes.forEach(function (route) {\n    if (route.routes) {\n      flatRoutes.push(_objectSpread({}, route, {\n        exact: true\n      }));\n      flatRoutes.push.apply(flatRoutes, _toConsumableArray(flatten(route.routes)));\n    } else {\n      flatRoutes.push(route);\n    }\n  });\n  return flatRoutes;\n}\n\nApp.propTypes = {\n  history: PropTypes.object.isRequired,\n  isLoaded: PropTypes.bool,\n  isSyncRunning: PropTypes.bool,\n  isSetupComplete: PropTypes.bool,\n  isMobile: PropTypes.bool,\n  isSidebarOpen: PropTypes.bool,\n  bootstrap: PropTypes.func,\n  windowResize: PropTypes.func,\n  toggleSidebar: PropTypes.func\n};\n\nvar mapStateToProps = function mapStateToProps(state, ownProps) {\n  return {\n    history: ownProps.history,\n    isLoaded: state.settings.isLoaded,\n    isSyncRunning: state.ui.sync.isRunning,\n    isSetupComplete: state.settings.isSetupComplete,\n    isMobile: state.ui.isMobile,\n    isSidebarOpen: state.ui.isSidebarOpen\n  };\n};\n\nexport default connect(mapStateToProps, {\n  bootstrap: bootstrap,\n  windowResize: windowResize,\n  toggleSidebar: toggleSidebar\n})(App);","map":{"version":3,"sources":["/Users/amipatel/Desktop/CMU/Research-F23/money-tracker/src/containers/App.js"],"names":["React","PropTypes","Router","Route","Switch","Redirect","Dimmer","Loader","connect","throttle","routes","SignIn","InitialSetup","SidebarMenu","Header","DemoNotice","windowResize","toggleSidebar","bootstrap","TestMenu","TaskHelpFooter","ParticipantSurvey","browserAlertTracking","App","renderNavigationRoutes","window","location","pathname","endsWith","props","isSidebarOpen","isMobile","zIndex","flatten","map","route","path","exact","label","addEventListener","script","document","createElement","src","localStorage","setItem","setTimeout","instrumentation","start","serverUrl","scenarioId","head","appendChild","isLoaded","isSyncRunning","history","isSetupComplete","onTestMenuClick","Component","confirm","href","flatRoutes","forEach","push","propTypes","object","isRequired","bool","func","mapStateToProps","state","ownProps","settings","ui","sync","isRunning"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Router, Route, Switch, Redirect } from 'react-router-dom';\nimport { Dimmer, Loader } from 'semantic-ui-react';\nimport { connect } from 'react-redux';\nimport throttle from 'lodash/throttle';\nimport routes from '../router/routes';\nimport SignIn from 'features/user/containers/SignIn';\nimport InitialSetup from './InitialSetup';\nimport SidebarMenu from './SidebarMenu';\nimport Header from '../components/Header';\nimport DemoNotice from './DemoNotice';\nimport { windowResize } from '../actions/ui/windowResize';\nimport { toggleSidebar } from '../actions/ui/sidebar';\nimport { bootstrap } from '../actions/app';\nimport TestMenu from '../components/TestMenu';\nimport TaskHelpFooter from '../components/TaskHelpFooter';\nimport ParticipantSurvey from './ParticipantSurvey';\nimport { browserAlertTracking } from '../tracking/wrapper/alert';\n\nclass App extends React.Component {\n  componentDidMount() {\n    window.addEventListener('resize', throttle(this.props.windowResize, 500));\n    this.props.bootstrap();\n    const script = document.createElement('script');\n    script.src =\n      'https://usability-session.onrender.com/static/plugin/instrumentation.js';\n\n    script.addEventListener('load', () => {\n      localStorage.setItem('scenarioId', '6455873c93620f7be7a1cd4b');\n\n      setTimeout(() => {\n        window.instrumentation.start({\n          serverUrl: 'usability-session.onrender.com',\n          scenarioId: '6455873c93620f7be7a1cd4b'\n        });\n      }, 3000);\n    });\n\n    document.head.appendChild(script);\n  }\n\n  render() {\n    if (!this.props.isLoaded) {\n      return (\n        <Loader\n          active\n          content={\n            this.props.isSyncRunning &&\n            'Synchronizing data, this might take a moment...'\n          }\n        />\n      );\n    }\n\n    return (\n      <div>\n        <Router history={this.props.history}>\n          <Switch>\n            <Route path=\"/auth\" exact={true} component={SignIn} />\n            {!this.props.isSetupComplete ? (\n              <Route component={InitialSetup} />\n            ) : (\n              <Route render={this.renderNavigationRoutes} />\n            )}\n          </Switch>\n        </Router>\n        <TaskHelpFooter />\n        <TestMenu onClick={onTestMenuClick} />\n      </div>\n    );\n  }\n\n  /**\n   * Navigation routes are the pages associated to navigation menu items,\n   * e.g. Dashboard, Transactions, Settings etc.\n   * They are rendered with common structure: sidebar menu and sticky header.\n   */\n  renderNavigationRoutes = () => {\n    if (window.location.pathname.endsWith('index.html')) {\n      return <Redirect to=\"/\" />;\n    }\n    const { isSidebarOpen, isMobile, toggleSidebar } = this.props;\n    return (\n      <React.Fragment>\n        <Dimmer\n          page\n          active={isMobile && isSidebarOpen}\n          onClick={toggleSidebar}\n          style={{ zIndex: 100 }}\n        />\n        <SidebarMenu\n          isOpen={!isMobile || isSidebarOpen}\n          toggleSidebar={toggleSidebar}\n        />\n        {flatten(routes).map(route => (\n          <Route\n            key={route.path}\n            path={route.path}\n            exact={route.exact}\n            render={props => (\n              <React.Fragment>\n                <Header label={route.label} />\n                <div className=\"container\">\n                  <DemoNotice />\n                  <route.component {...props} />\n                </div>\n              </React.Fragment>\n            )}\n          />\n        ))}\n      </React.Fragment>\n    );\n  };\n}\n\nfunction onTestMenuClick() {\n  browserAlertTracking();\n  if (window.confirm('Are you sure you want to finish this task?')) {\n    // setIsVisible(true);\n    localStorage.setItem('taskComplete', true);\n    localStorage.setItem('taskInProgress', true);\n    window.location.href = '/';\n  }\n}\nfunction flatten(routes) {\n  let flatRoutes = [];\n  routes.forEach(route => {\n    if (route.routes) {\n      flatRoutes.push({ ...route, exact: true });\n      flatRoutes.push(...flatten(route.routes));\n    } else {\n      flatRoutes.push(route);\n    }\n  });\n\n  return flatRoutes;\n}\n\nApp.propTypes = {\n  history: PropTypes.object.isRequired,\n  isLoaded: PropTypes.bool,\n  isSyncRunning: PropTypes.bool,\n  isSetupComplete: PropTypes.bool,\n  isMobile: PropTypes.bool,\n  isSidebarOpen: PropTypes.bool,\n  bootstrap: PropTypes.func,\n  windowResize: PropTypes.func,\n  toggleSidebar: PropTypes.func\n};\n\nconst mapStateToProps = (state, ownProps) => ({\n  history: ownProps.history,\n  isLoaded: state.settings.isLoaded,\n  isSyncRunning: state.ui.sync.isRunning,\n  isSetupComplete: state.settings.isSetupComplete,\n  isMobile: state.ui.isMobile,\n  isSidebarOpen: state.ui.isSidebarOpen\n});\n\nexport default connect(\n  mapStateToProps,\n  {\n    bootstrap,\n    windowResize,\n    toggleSidebar\n  }\n)(App);\n"]},"metadata":{},"sourceType":"module"}